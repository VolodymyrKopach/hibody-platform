# üóÑÔ∏è –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è localStorage –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤

## üìã –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ –±—É–ª–∞ –æ–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è **localStorage** –∑–∞–º—ñ—Å—Ç—å –º–æ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö. –¢–µ–ø–µ—Ä —É—Ä–æ–∫–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ —á–∞—Ç—ñ, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ "–ú–æ—ó –º–∞—Ç–µ—Ä—ñ–∞–ª–∏" –∑ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–≥–ª—è–¥—É.

## üîß –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### 1. –£—Ç–∏–ª—ñ—Ç–∞ localStorage (`src/utils/localStorage.ts`)

```typescript
export interface SavedLesson {
  id: string;
  title: string;
  description: string;
  subject: string;
  ageGroup: string;
  duration: number;
  slides: SavedSlide[];
  createdAt: string;
  updatedAt: string;
  authorId: string;
  thumbnail: string;
  tags: string[];
  difficulty: 'easy' | 'medium' | 'hard';
  views: number;
  rating: number;
  status: 'draft' | 'published' | 'archived';
  completionRate: number;
}

export class LessonStorage {
  static getAllLessons(): SavedLesson[]
  static saveLesson(lesson: SavedLesson): boolean
  static getLessonById(id: string): SavedLesson | null
  static deleteLesson(id: string): boolean
  static updateLesson(id: string, updates: Partial<SavedLesson>): boolean
  // + –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø–æ—à—É–∫—É, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
}
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —á–∞—Ç—É (`src/app/chat/page.tsx`)

- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤**: –§—É–Ω–∫—Ü—ñ—è `saveSelectedSlides()` —Ç–µ–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î –≤–∏–±—Ä–∞–Ω—ñ —Å–ª–∞–π–¥–∏ –≤ localStorage
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è `SimpleSlide` –≤ `SavedSlide` —Ñ–æ—Ä–º–∞—Ç
- **–ú–µ—Ç–∞–¥–∞–Ω—ñ**: –î–æ–¥–∞–≤–∞–Ω–Ω—è thumbnail, tags, difficulty —Ç–∞ —ñ–Ω—à–∏—Ö –ø–æ–ª—ñ–≤

### 3. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ (`src/app/materials/page.tsx`)

- **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö**: `useEffect` –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ localStorage
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤**: –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è `SavedLesson` –≤ `Material` –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ UI
- **–î—ñ–∞–ª–æ–≥ –ø–µ—Ä–µ–≥–ª—è–¥—É**: –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —É—Ä–æ–∫—ñ–≤ –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é –º—ñ–∂ —Å–ª–∞–π–¥–∞–º–∏

## üéØ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

1. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤**
   - –í–∏–±—ñ—Ä —Å–ª–∞–π–¥—ñ–≤ —á–µ—Ä–µ–∑ —á–µ–∫–±–æ–∫—Å–∏ –≤ —á–∞—Ç—ñ
   - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ localStorage –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º ID
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≥–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö

2. **–ü–µ—Ä–µ–≥–ª—è–¥ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤**
   - –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —É—Ä–æ–∫—ñ–≤
   - –í–∏–¥–∞–ª–µ–Ω–Ω—è –º–æ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
   - –î–∏–Ω–∞–º—ñ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

3. **–î—ñ–∞–ª–æ–≥ –ø—Ä–µ–≤—å—é**
   - –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ HTML-–∫–æ–Ω—Ç–µ–Ω—Ç—É —Å–ª–∞–π–¥—ñ–≤
   - –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ —Å–ª–∞–π–¥–∞–º–∏ (–∫–Ω–æ–ø–∫–∏ + —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏)
   - –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤
   - Responsive –¥–∏–∑–∞–π–Ω

4. **–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
   - –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤

### üîÑ –ü—Ä–æ—Ü–µ—Å —Ä–æ–±–æ—Ç–∏

1. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —É—Ä–æ–∫—É**:
   ```
   –ß–∞—Ç ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–ª–∞–π–¥—ñ–≤ ‚Üí –í–∏–±—ñ—Ä —Å–ª–∞–π–¥—ñ–≤ ‚Üí –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è ‚Üí localStorage
   ```

2. **–ü–µ—Ä–µ–≥–ª—è–¥ —É—Ä–æ–∫—É**:
   ```
   –ú–æ—ó –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ ‚Üí –ö–ª—ñ–∫ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏" ‚Üí –î—ñ–∞–ª–æ–≥ –ø—Ä–µ–≤—å—é ‚Üí –ù–∞–≤—ñ–≥–∞—Ü—ñ—è —Å–ª–∞–π–¥—ñ–≤
   ```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É—Ä–æ–∫—É

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É `/chat`
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —É—Ä–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–°—Ç–≤–æ—Ä–∏ —É—Ä–æ–∫ –ø—Ä–æ –¥–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤ –¥–ª—è –¥—ñ—Ç–µ–π 6 —Ä–æ–∫—ñ–≤")
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–ª–∞–π–¥—ñ–≤
4. –í–∏–±–µ—Ä—ñ—Ç—å —Å–ª–∞–π–¥–∏ —á–µ—Ä–µ–∑ —á–µ–∫–±–æ–∫—Å–∏
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–±–µ—Ä–µ–≥—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ —Å–ª–∞–π–¥–∏"
6. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ü–µ—Ä–µ–≥–ª—è–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —É—Ä–æ–∫—ñ–≤

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É `/materials`
2. –ó–Ω–∞–π–¥—ñ—Ç—å —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —É—Ä–æ–∫
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —ñ–∫–æ–Ω–∫—É "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏" (üëÅÔ∏è)
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –¥—ñ–∞–ª–æ–≥—É –ø—Ä–µ–≤—å—é
5. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é –º—ñ–∂ —Å–ª–∞–π–¥–∞–º–∏

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ localStorage

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Developer Tools (F12)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É Application/Storage
3. –ó–Ω–∞–π–¥—ñ—Ç—å localStorage ‚Üí `hibody_saved_lessons`
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ –≤ JSON —Ñ–æ—Ä–º–∞—Ç—ñ

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ localStorage

```json
{
  "hibody_saved_lessons": [
    {
      "id": "lesson_1703847291234",
      "title": "–£—Ä–æ–∫: –ü–æ–¥–æ—Ä–æ–∂ —É —Å–≤—ñ—Ç –¥–∏–Ω–æ–∑–∞–≤—Ä—ñ–≤",
      "description": "–£—Ä–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ 6 —Å–ª–∞–π–¥—ñ–≤",
      "subject": "–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Å–≤—ñ—Ç–∞",
      "ageGroup": "6-8",
      "duration": 30,
      "slides": [
        {
          "id": "slide_1",
          "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–∞–π–¥—É",
          "content": "–¢–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",
          "htmlContent": "<div>HTML –∫–æ–Ω—Ç–µ–Ω—Ç</div>",
          "type": "title",
          "status": "completed"
        }
      ],
      "createdAt": "2024-01-15T10:30:00.000Z",
      "updatedAt": "2024-01-15T10:30:00.000Z",
      "authorId": "current-user",
      "thumbnail": "/images/default-lesson.png",
      "tags": ["—Å—Ç–≤–æ—Ä–µ–Ω–∏–π-–≤-—á–∞—Ç—ñ", "—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π"],
      "difficulty": "easy",
      "views": 0,
      "rating": 0,
      "status": "published",
      "completionRate": 0
    }
  ]
}
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏

- **Storage Key**: `hibody_saved_lessons`
- **Default Thumbnail**: `/images/default-lesson.png`
- **Default Tags**: `['—Å—Ç–≤–æ—Ä–µ–Ω–∏–π-–≤-—á–∞—Ç—ñ', '—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π']`
- **Default Difficulty**: `easy`
- **Default Status**: `published`

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

- Try-catch –±–ª–æ–∫–∏ –¥–ª—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ localStorage
- Fallback –¥–æ –ø–æ—Ä–æ–∂–Ω—å–æ–≥–æ –º–∞—Å–∏–≤—É –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö —á–∏—Ç–∞–Ω–Ω—è
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

## üöÄ –ü–æ–¥–∞–ª—å—à—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ü–ª–∞–Ω—É—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏

1. **–ï–∫—Å–ø–æ—Ä—Ç/–Ü–º–ø–æ—Ä—Ç —É—Ä–æ–∫—ñ–≤**
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤ —É JSON —Ñ–æ—Ä–º–∞—Ç—ñ
   - –Ü–º–ø–æ—Ä—Ç —É—Ä–æ–∫—ñ–≤ –∑ —Ñ–∞–π–ª—É

2. **–†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–∞–ø–æ–∫**
   - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–∞–ø–æ–∫ –≤ localStorage
   - –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —É—Ä–æ–∫—ñ–≤ –º—ñ–∂ –ø–∞–ø–∫–∞–º–∏

3. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º**
   - Backup –≤ —Ö–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ
   - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏

4. **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é**
   - –ü–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ª–∞–π–¥—ñ–≤
   - –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

## üêõ –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

1. **–†–æ–∑–º—ñ—Ä localStorage**: –û–±–º–µ–∂–µ–Ω–Ω—è –±—Ä–∞—É–∑–µ—Ä–∞ ~5-10MB
2. **–õ–æ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö**: –î–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ç—ñ–ª—å–∫–∏ –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ
3. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –±–µ–∫–∞–ø—É**: –î–∞–Ω—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—Ç—Ä–∞—á–µ–Ω—ñ –ø—Ä–∏ –æ—á–∏—â–µ–Ω–Ω—ñ –±—Ä–∞—É–∑–µ—Ä–∞

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:

1. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫
2. **localStorage** –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö
3. **–í–µ—Ä—Å—ñ—é –±—Ä–∞—É–∑–µ—Ä–∞** (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ localStorage)
4. **–ö–≤–æ—Ç—É localStorage** (–º–æ–∂–ª–∏–≤–µ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è)

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ  
**–í–µ—Ä—Å—ñ—è**: 1.0  
**–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 29.06.2024 