# –ö–∞—Å—Ç–æ–º–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å —É HiBody Platform

## –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–∞—Å—Ç–æ–º–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å —á–µ—Ä–µ–∑ FLUX.1-schnell API. Claude –º–æ–∂–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Ç–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è.

## –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```html
<!-- generate image: –æ–ø–∏—Å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è [—à–∏—Ä–∏–Ω–∞:–≤–∏—Å–æ—Ç–∞] -->
```

### –ü—Ä–∏–∫–ª–∞–¥–∏

```html
<!-- generate image: friendly cartoon dinosaur [512:512] -->
<!-- generate image: colorful minions playing together [1024:512] -->
<!-- generate image: cute cat portrait [384:512] -->
<!-- generate image: magical forest background [1024:768] -->
```

### –ë–µ–∑ —Ä–æ–∑–º—ñ—Ä—ñ–≤ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ñ 512x512)

```html
<!-- generate image: simple character illustration -->
```

## –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏

### –ü–æ—Ä—Ç—Ä–µ—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤
- **384x512** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç
- **512x640** - –¥–µ—Ç–∞–ª—å–Ω–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç

### –®–∏—Ä–æ–∫—ñ —Å—Ü–µ–Ω–∏
- **1024x512** - –ø–∞–Ω–æ—Ä–∞–º–Ω–∞ —Å—Ü–µ–Ω–∞
- **768x512** - —à–∏—Ä–æ–∫–∞ —Å—Ü–µ–Ω–∞

### –ö–≤–∞–¥—Ä–∞—Ç–Ω—ñ —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó
- **512x512** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
- **768x768** - –¥–µ—Ç–∞–ª—å–Ω–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

### –§–æ–Ω–æ–≤—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
- **1024x768** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ–Ω
- **1280x720** - —à–∏—Ä–æ–∫–∏–π —Ñ–æ–Ω (16:9)

## –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### 1. –°–∏—Å—Ç–µ–º–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏

Claude –æ—Ç—Ä–∏–º—É—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç:

```
üé® –í–ê–ñ–õ–ò–í–û –î–õ–Ø HTML –°–õ–ê–ô–î–Ü–í:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å: <!-- generate image: English description [width:height] -->
- –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–æ–∑–º—ñ—Ä–∞–º–∏:
  * <!-- generate image: friendly cartoon dinosaur [512:512] --> (–∫–≤–∞–¥—Ä–∞—Ç–Ω–µ)
  * <!-- generate image: colorful minions playing [1024:512] --> (—à–∏—Ä–æ–∫–µ)
  * <!-- generate image: cute cat portrait [384:512] --> (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ)
```

### 2. –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

–§—É–Ω–∫—Ü—ñ—è `extractImageRequests` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î regex –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥—É:

```javascript
const imageCommentRegex = /<!--\s*generate\s+image:\s*([^-\[]+)(?:\s*\[(\d+):(\d+)\])?\s*-->/gi;
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- `match[1]` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
- `match[2]` - —à–∏—Ä–∏–Ω–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- `match[3]` - –≤–∏—Å–æ—Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### 3. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å

–§—É–Ω–∫—Ü—ñ—è `processImageGeneration` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–∞—Å—Ç–æ–º–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏:

```javascript
const imageWidth = request.width || 512;
const imageHeight = request.height || 512;

const imageResponse = await fetch(`http://localhost:3000/api/images`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    prompt: enhancedPrompt,
    width: imageWidth,
    height: imageHeight
  })
});
```

## –ü–µ—Ä–µ–≤–∞–≥–∏ –∫–∞—Å—Ç–æ–º–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤

### 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- **–ü–æ—Ä—Ç—Ä–µ—Ç–∏**: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤
- **–°—Ü–µ–Ω–∏**: —à–∏—Ä–æ–∫–∏–π —Ñ–æ—Ä–º–∞—Ç —ñ–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è –ø–µ–π–∑–∞–∂—ñ–≤ —Ç–∞ –≥—Ä—É–ø–æ–≤–∏—Ö —Å—Ü–µ–Ω
- **–§–æ–Ω–∏**: –≤–µ–ª–∏–∫—ñ —Ä–æ–∑–º—ñ—Ä–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∫—Ä–∞—â—É —è–∫—ñ—Å—Ç—å —Ñ–æ–Ω–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å

### 2. –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
- Claude –≤–∏–±–∏—Ä–∞—î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
- –ú–µ–Ω—à—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —à–≤–∏–¥—à–µ
- –í–µ–ª–∏–∫—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞—é—Ç—å –∫—Ä–∞—â—É –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—é

### 3. –ö—Ä–∞—â–∏–π UX
- –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—Ä–∞—â–µ –≤–ø–∏—Å—É—é—Ç—å—Å—è –≤ –¥–∏–∑–∞–π–Ω —Å–ª–∞–π–¥—ñ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –ø—Ä–æ–ø–æ—Ä—Ü—ñ—ó –ø–æ–∫—Ä–∞—â—É—é—Ç—å —Å–ø—Ä–∏–π–Ω—è—Ç—Ç—è
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç—É

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Claude

### –î–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç—ñ–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤:
```html
<div class="character-container" style="position: relative; width: 200px; height: 260px;">
  <!-- generate image: happy minion with goggles [384:512] -->
</div>
```

### –î–ª—è —à–∏—Ä–æ–∫–∏—Ö —Å—Ü–µ–Ω:
```html
<div class="scene-container" style="position: relative; width: 100%; height: 300px;">
  <!-- generate image: colorful playground with children playing [1024:512] -->
</div>
```

### –î–ª—è —Ñ–æ–Ω–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å:
```html
<div class="background-container" style="position: relative; width: 100%; height: 400px;">
  <!-- generate image: magical forest background with fairy lights [1024:768] -->
</div>
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### API Endpoint

```bash
# –®–∏—Ä–æ–∫–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
curl -X POST http://localhost:3000/api/images \
  -H "Content-Type: application/json" \
  -d '{"prompt": "friendly dinosaur", "width": 1024, "height": 512}'

# –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è  
curl -X POST http://localhost:3000/api/images \
  -H "Content-Type: application/json" \
  -d '{"prompt": "cute cat portrait", "width": 384, "height": 512}'
```

### –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–∞—Ä—Å–∏—Ç—å —Ä–æ–∑–º—ñ—Ä–∏ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —Ç–∞ –ø–µ—Ä–µ–¥–∞—î —ó—Ö –¥–æ FLUX API.

## –ó–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

- –°—Ç–∞—Ä—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –±–µ–∑ —Ä–æ–∑–º—ñ—Ä—ñ–≤ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
- –î–µ—Ñ–æ–ª—Ç–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 512x512
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—ñ–≤ –¥–æ –Ω–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

## –û–±–º–µ–∂–µ–Ω–Ω—è FLUX.1-schnell

- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 256x256
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä: 1024x1024
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∫—Ä–∞—Ç–Ω—ñ 64 –ø—ñ–∫—Å–µ–ª—ñ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—ó —è–∫–æ—Å—Ç—ñ

## –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä —Ä–æ–∑–º—ñ—Ä—É** - Claude –º–æ–∂–µ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä
2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö —Ç–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤  
3. **–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥** - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –±–∞—á–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é
4. **–®–∞–±–ª–æ–Ω–∏ —Ä–æ–∑–º—ñ—Ä—ñ–≤** - –≥–æ—Ç–æ–≤—ñ –ø—Ä–µ—Å–µ—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç—É 