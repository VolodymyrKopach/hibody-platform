# TapImage Component - Optimized for Ages 3-5

–ü–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ—Ä–æ–±–ª–µ–Ω–Ω–∏–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥—ñ—Ç–µ–π –≤—ñ–∫–æ–º 3-5 —Ä–æ–∫—ñ–≤ –∑ —ñ–≥—Ä–æ–≤–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏, –ø—Ä–æ–≥—Ä–µ—Å—ñ—î—é —Ç–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é.

## üéÆ Features

### Game Modes

1. **Simple Tap Mode** üéØ
   - –î–∏—Ç–∏–Ω–∞ —Ç–∞–ø–∞—î –Ω–∞ –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫—É —ñ –∑–±–∏—Ä–∞—î –∑—ñ—Ä–∫–∏
   - –ö–æ–∂–µ–Ω —Ç–∞–ø = –∑–≤—É–∫ + –∞–Ω—ñ–º–∞—Ü—ñ—è + –∑—ñ—Ä–∫–∞
   - –ú–µ—Ç–∞: –∑—ñ–±—Ä–∞—Ç–∏ N –∑—ñ—Ä–æ—á–æ–∫
   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è: —Å–∞–º–∏—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö (3 —Ä–æ–∫–∏)

2. **Find & Tap Mode** üîç
   - 2-4 –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
   - –î–∏—Ç–∏–Ω–∞ –º–∞—î –∑–Ω–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫—É
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä = —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π = –º'—è–∫–∞ –ø—ñ–¥–∫–∞–∑–∫–∞
   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è: 4-5 —Ä–æ–∫—ñ–≤

3. **Sequence Mode** üî¢
   - 3-4 –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑ –Ω–æ–º–µ—Ä–∞–º–∏
   - –¢—Ä–µ–±–∞ —Ç–∞–ø–Ω—É—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
   - Progress bar –ø–æ–∫–∞–∑—É—î –ø—Ä–æ–≥—Ä–µ—Å
   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è: 4-5 —Ä–æ–∫—ñ–≤

4. **Memory Mode** üß†
   - –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É, –ø–æ—Ç—ñ–º —Å—Ö–æ–≤–∞—Ç–∏
   - –ó–Ω–∞–π—Ç–∏ —Å–µ—Ä–µ–¥ —ñ–Ω—à–∏—Ö
   - –†–æ–∑–≤–∏–≤–∞—î –ø–∞–º'—è—Ç—å
   - –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è: 5 —Ä–æ–∫—ñ–≤

### Visual Enhancements

- ‚ú® –í–µ–ª–∏–∫—ñ —Ä–æ–∑–º—ñ—Ä–∏ (150-180px) –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ç–∞–ø—É
- üåà –Ø—Å–∫—Ä–∞–≤—ñ –∫–æ–ª—å–æ—Ä–∏ —Ç–∞ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∏
- üé® –¢–æ–≤—Å—Ç—ñ rounded borders (6-8px)
- ‚≠ê –ê–Ω—ñ–º–æ–≤–∞–Ω—ñ —á–∞—Å—Ç–∏–Ω–∫–∏ –ø—Ä–∏ —É—Å–ø—ñ—Ö—É
- üêª Mascot-–ø–æ–º—ñ—á–Ω–∏–∫ –∑ –µ–º–æ—Ü—ñ—è–º–∏
- üí´ Glow —Ç–∞ pulse –µ—Ñ–µ–∫—Ç–∏ –¥–ª—è –ø—ñ–¥–∫–∞–∑–æ–∫

### Progression System

- ‚≠ê –í—ñ–∑—É–∞–ª—å–Ω—ñ –∑—ñ—Ä–∫–∏ (–∑–±–∏—Ä–∞—î—Ç—å—Å—è –∫–æ–ª–µ–∫—Ü—ñ—è)
- üìä Progress bar –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
- üéâ Celebration overlay –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ
- üí¨ –ó–∞–æ—Ö–æ—á—É–≤–∞–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### Accessibility for Toddlers

- üëÜ Animated hand hints
- üéµ Sound feedback –Ω–∞ –∫–æ–∂–Ω—É –¥—ñ—é
- üì≥ Haptic feedback
- üîä **Voice guidance (Text-to-Speech)** - –æ–∑–≤—É—á–∫–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —Ç–∞ —Ñ—ñ–¥–±–µ–∫—É
- üåç –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–æ–≤: —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞, –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞, —Ä–æ—Å—ñ–π—Å—å–∫–∞
- üéØ –í–µ–ª–∏–∫–∞ hit area (+20px padding)

## üì¶ Component Structure

```
TapImage/
‚îú‚îÄ‚îÄ index.tsx                 # Main component with game logic
‚îú‚îÄ‚îÄ types.ts                  # TypeScript definitions
‚îú‚îÄ‚îÄ TapImageCard.tsx          # Individual image card
‚îú‚îÄ‚îÄ TapImageReward.tsx        # Stars display
‚îú‚îÄ‚îÄ TapImageProgress.tsx      # Progress bar
‚îú‚îÄ‚îÄ TapImageMascot.tsx        # Animated mascot helper
‚îú‚îÄ‚îÄ TapImageHint.tsx          # Hint system (hand, glow, arrow)
‚îú‚îÄ‚îÄ TapImageCelebration.tsx   # Success celebration overlay
‚îî‚îÄ‚îÄ README.md                 # This file
```

## üöÄ Usage

### Simple Mode Example

```tsx
<TapImage
  mode="simple"
  images={[
    { 
      id: '1', 
      url: '/dog.jpg', 
      label: '–°–æ–±–∞–∫–∞' 
    }
  ]}
  targetCount={5}
  showProgress
  showStars
  showMascot
  enableVoice
  voiceLanguage="uk-UA"
  speakPrompt
  speakFeedback
  ageStyle="toddler"
/>
```

### Find Mode Example

```tsx
<TapImage
  mode="find"
  images={[
    { id: '1', url: '/dog.jpg', label: '–°–æ–±–∞–∫–∞' },
    { id: '2', url: '/cat.jpg', label: '–ö—ñ—Ç' },
    { id: '3', url: '/bird.jpg', label: '–ü—Ç–∞—Ö' },
  ]}
  correctAnswer="1"
  prompt="–ó–Ω–∞–π–¥–∏ —Å–æ–±–∞—á–∫—É!"
  showHints
  showMascot
  ageStyle="toddler"
  onCorrectTap={(id) => console.log('Correct!', id)}
  onWrongTap={(id) => console.log('Try again!', id)}
/>
```

### Sequence Mode Example

```tsx
<TapImage
  mode="sequence"
  images={[
    { id: 'a', url: '/one.jpg', label: '1' },
    { id: 'b', url: '/two.jpg', label: '2' },
    { id: 'c', url: '/three.jpg', label: '3' },
  ]}
  sequence={['a', 'b', 'c']}
  prompt="–¢–∞–ø–∞–π –ø–æ –ø–æ—Ä—è–¥–∫—É!"
  showProgress
  ageStyle="toddler"
  onComplete={() => console.log('Sequence completed!')}
/>
```

### Memory Mode Example

```tsx
<TapImage
  mode="memory"
  images={[
    { id: '1', url: '/apple.jpg', label: '–Ø–±–ª—É–∫–æ' },
    { id: '2', url: '/banana.jpg', label: '–ë–∞–Ω–∞–Ω' },
  ]}
  memoryTime={3000}
  prompt="–ó–∞–ø–∞–º'—è—Ç–∞–π –∫–∞—Ä—Ç–∏–Ω–∫—É!"
  showMascot
  ageStyle="toddler"
/>
```

## üé® Props

### Core Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `mode` | `'simple' \| 'find' \| 'sequence' \| 'memory'` | `'simple'` | Game mode |
| `images` | `TapImageItem[]` | `[]` | Array of images |
| `imageUrl` | `string` | - | Legacy: single image URL |
| `caption` | `string` | - | Legacy: image caption |

### Game Configuration

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `targetCount` | `number` | `5` | Stars to collect (simple mode) |
| `correctAnswer` | `string` | - | Correct image ID (find mode) |
| `sequence` | `string[]` | - | Sequence of IDs (sequence mode) |
| `memoryTime` | `number` | `3000` | Time to show image (memory mode) |
| `prompt` | `string` | - | Instruction text |

### Display Options

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `size` | `'small' \| 'medium' \| 'large'` | `'large'` | Image size |
| `showProgress` | `boolean` | `true` | Show progress bar |
| `showStars` | `boolean` | `true` | Show star counter |
| `showMascot` | `boolean` | `true` | Show mascot helper |
| `showHints` | `boolean` | `true` | Show hints on inactivity |
| `hintDelay` | `number` | `5000` | Delay before hint (ms) |

### Voice Options (Text-to-Speech)

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `enableVoice` | `boolean` | `true` | Enable text-to-speech |
| `voiceLanguage` | `'uk-UA' \| 'en-US' \| 'ru-RU'` | `'uk-UA'` | Voice language |
| `speakPrompt` | `boolean` | `true` | Speak prompt on load |
| `speakFeedback` | `boolean` | `true` | Speak feedback messages |

### Styling

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `ageGroup` | `string` | - | Auto-detect age style |
| `ageStyle` | `AgeStyleName` | `'toddler'` | Force specific age style |

### Callbacks

| Prop | Type | Description |
|------|------|-------------|
| `onComplete` | `() => void` | Called when task completed |
| `onLevelUp` | `() => void` | Called when level up |
| `onCorrectTap` | `(id: string) => void` | Called on correct tap |
| `onWrongTap` | `(id: string) => void` | Called on wrong tap |
| `onProgress` | `(progress: number) => void` | Called on progress change |

## üéØ UX Principles for 3-5 Years

1. **Instant Feedback** - React to every action < 100ms
2. **Clear Goals** - Always clear what to do
3. **Frequent Rewards** - Reward every 3-5 seconds
4. **Forgiving Errors** - No punishment, only gentle hints
5. **Visual Clarity** - Large elements, high contrast
6. **Fun Sounds** - Audio on every action
7. **Animated Guidance** - Mascot shows what to do
8. **Progressive Difficulty** - Start very simple

## üé® Age Styles

Component automatically adapts to age group:

- **Toddler (3-5)**: Largest size, brightest colors, most feedback
- **Preschool (6-7)**: Large, playful
- **Elementary (8-9)**: Medium, balanced
- **Middle (10-13)**: Standard, clean
- **Teen (14-18)**: Compact, minimal

## üß™ Testing

Test different scenarios:

```tsx
// Test simple mode
<TapImage mode="simple" targetCount={3} />

// Test find mode with wrong taps
<TapImage mode="find" correctAnswer="2" />

// Test sequence with reset
<TapImage mode="sequence" sequence={['a', 'b', 'c']} />

// Test memory with short time
<TapImage mode="memory" memoryTime={2000} />
```

## üìù Editor Integration

The `TapImageEditor` component provides a user-friendly interface for configuring all options:

- üéÆ Game mode selector with descriptions
- üñºÔ∏è Multi-image uploader with preview
- ‚öôÔ∏è Mode-specific settings
- üé® Display toggles
- üìè Size selector

## üîÑ Migration from Old TapImage

Old component still works for backward compatibility:

```tsx
// Old way (still works)
<TapImage 
  imageUrl="/dog.jpg" 
  caption="Dog" 
/>

// New way (recommended)
<TapImage
  mode="simple"
  images={[{ id: '1', url: '/dog.jpg', label: 'Dog' }]}
  targetCount={5}
/>
```

## üöÄ Performance

- Memoized animations
- Optimized re-renders
- Lazy sound loading
- Efficient particle system

## üéØ Best Practices

1. Use `large` size for 3-5 years
2. Enable all helper features (mascot, hints, progress)
3. Start with `simple` mode for youngest
4. Use clear, simple prompts
5. Provide high-quality images (min 200x200px)
6. Test on touch devices

## üì± Mobile Optimization

- Touch-optimized hit areas
- Haptic feedback support
- Prevent multi-touch
- Orientation adaptive

## üêõ Troubleshooting

**Images not showing?**
- Check image URLs are accessible
- Verify CORS settings
- Use https:// URLs

**No sound?**
- Check browser sound permissions
- Verify sound service initialization
- Test on user interaction

**Hints not appearing?**
- Set `showHints={true}`
- Adjust `hintDelay` if needed
- Check component is active

## üîä Voice Guidance (Text-to-Speech)

### Features

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Web Speech API** (–Ω–∞—Ç–∏–≤–Ω–∏–π JavaScript) –¥–ª—è –æ–∑–≤—É—á–∫–∏:

- ‚úÖ –û–∑–≤—É—á–∫–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- ‚úÖ –û–∑–≤—É—á–∫–∞ —Ñ—ñ–¥–±–µ–∫—É (—É—Å–ø—ñ—Ö/–ø–æ–º–∏–ª–∫–∞)
- ‚úÖ –û–∑–≤—É—á–∫–∞ –ø—ñ–¥–∫–∞–∑–æ–∫
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 3 –º–æ–≤ (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞, –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞, —Ä–æ—Å—ñ–π—Å—å–∫–∞)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ç–∞ —Ç–æ–Ω –≥–æ–ª–æ—Å—É –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –≤—ñ–∫–æ–≤–∏—Ö –≥—Ä—É–ø
- ‚úÖ –ë–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

### Age-Adapted Voice

- **Toddler (3-5)**: –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ (0.8x), –≤–∏—â–∏–π —Ç–æ–Ω (1.3x)
- **Preschool (6-7)**: –¢—Ä–æ—Ö–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ (0.9x), —Ç—Ä–æ—Ö–∏ –≤–∏—â–∏–π —Ç–æ–Ω (1.1x)
- **Elementary (8-9)**: –ù–æ—Ä–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å —ñ —Ç–æ–Ω

### Browser Support

Web Speech API –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ —Å—É—á–∞—Å–Ω–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤:
- ‚úÖ Chrome/Edge
- ‚úÖ Safari
- ‚úÖ Firefox
- ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–∏–π HTTPS (–∞–±–æ localhost)

### Implementation

```tsx
// Enable voice with Ukrainian
<TapImage
  enableVoice
  voiceLanguage="uk-UA"
  speakPrompt
  speakFeedback
/>

// Disable voice
<TapImage
  enableVoice={false}
/>

// English voice
<TapImage
  enableVoice
  voiceLanguage="en-US"
/>
```

### Technical Details

Utility: `src/utils/interactive/textToSpeech.ts`

```typescript
// Manual usage
import { speakText, speakForAge } from '@/utils/interactive/textToSpeech';

// Simple speak
await speakText('–ú–æ–ª–æ–¥–µ—Ü—å!', 'uk-UA');

// Age-adapted speak
await speakForAge('–°—É–ø–µ—Ä!', 'toddler', 'uk-UA');
```

## üìö Related Components

- `SimpleDragAndDrop` - Drag and drop for toddlers
- `SimpleCounter` - Number learning
- `MemoryCards` - Card matching game
- `ColorMatcher` - Color learning

## üéì Educational Value

- **Cognitive**: Pattern recognition, memory
- **Motor**: Fine motor skills, hand-eye coordination
- **Attention**: Focus, sustained attention
- **Emotional**: Confidence, achievement

## üìÑ License

Part of the TeachSpark platform.

