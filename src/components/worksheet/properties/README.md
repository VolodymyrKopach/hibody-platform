# Interactive Component Properties System

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ RightSidebar –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ä—É—á–Ω–æ–≥–æ —Ç–∞ AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
properties/
‚îú‚îÄ‚îÄ PropertiesPanel.tsx           # [DEPRECATED] –°—Ç–∞—Ä–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–æ–±–≥–æ—Ä—Ç–∫–∞
‚îú‚îÄ‚îÄ ManualPropertyEditor.tsx      # –†—É—á–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ AIPropertyEditor.tsx          # AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
‚îî‚îÄ‚îÄ README.md                     # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ **RightSidebar** –∑ —É–º–æ–≤–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:

### Tab "Properties"
- **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** ‚Üí `ManualPropertyEditor` –∑ –ø–æ–≤–Ω–æ—é —Å—Ö–µ–º–æ—é –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- **–ó–≤–∏—á–∞–π–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** (title-block, body-text, etc.) ‚Üí –≤–±—É–¥–æ–≤–∞–Ω—ñ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏

### Tab "AI Assistant"
- **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** ‚Üí `AIPropertyEditor` –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏–º–∏ Quick Improvements
- **–ó–≤–∏—á–∞–π–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** ‚Üí `AIAssistantPanel` –∑ –∑–∞–≥–∞–ª—å–Ω–∏–º AI –∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
- **Page selection** ‚Üí `AIAssistantPanel` –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏

–¶–µ —É—Å—É–≤–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤ —ñ —Å—Ç–≤–æ—Ä—é—î —á–∏—Å—Ç—É, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–ª–µ–∂–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### ManualPropertyEditor

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

**Props:**
- `schema: ComponentPropertySchema` - –°—Ö–µ–º–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `properties: any` - –ü–æ—Ç–æ—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- `onChange: (newProperties: any) => void` - Callback –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

**–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏ –ø–æ–ª—ñ–≤:**
- `string` - –¢–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
- `number` - –ß–∏—Å–ª–æ–≤–µ –ø–æ–ª–µ (–∑ min/max)
- `boolean` - –ü–µ—Ä–µ–º–∏–∫–∞—á (Switch)
- `color` - Color picker + —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
- `select` - –í–∏–ø–∞–¥–∞—é—á–∏–π —Å–ø–∏—Å–æ–∫
- `array-simple` - –ú–∞—Å–∏–≤ —Ä—è–¥–∫—ñ–≤ (—Ä–µ–¥–∞–≥—É—î—Ç—å—Å—è —è–∫ —Å–ø–∏—Å–æ–∫)
- `array-object` - –ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ (—Å–∫–ª–∞–¥–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ –ø–æ–ª—è–º–∏)
- `object` - –í–∫–ª–∞–¥–µ–Ω–∏–π –æ–±'—î–∫—Ç –∑ –ø–æ–ª—è–º–∏

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è (required fields)
- –ü—ñ–¥–∫–∞–∑–∫–∏ (tooltips) –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–æ–ª—ñ–≤
- –ó–≥–æ—Ä—Ç–∞–Ω–Ω—è/—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Å–∏–≤—ñ–≤
- Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### AIPropertyEditor

**–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π AI-—Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ç–∞–±—ñ "AI Assistant" RightSidebar.

**Props:**
- `element: CanvasElement` - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç
- `pageId: string` - ID —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- `schema: ComponentPropertySchema` - –°—Ö–µ–º–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- `context: WorksheetEditContext` - –ö–æ–Ω—Ç–µ–∫—Å—Ç worksheet
- `onPropertiesChange: (newProperties: any) => void` - Callback –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
1. **Quick Improvements** - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ñ —à–≤–∏–¥–∫—ñ –¥—ñ—ó –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
   - Tap Image: "Make it bigger", "Add caption", "Change animation"
   - Simple Drag & Drop: "Add more items", "Make it easier", "Change colors"
   - Color Matcher: "Add more colors", "Enable voice", "Simplify"
   - Memory Cards: "More pairs", "Make easier", "Add theme"
   - Sorting Game: "Add category", "Change layout", "More items"
   
2. **Custom Instructions** - –î–æ–≤—ñ–ª—å–Ω—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é
3. **Context-aware** - –í—Ä–∞—Ö–æ–≤—É—î —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤—ñ–∫–æ–≤—É –≥—Ä—É–ø—É, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
4. **Real-time feedback** - –ü–æ–∫–∞–∑—É—î, —è–∫—ñ –∑–º—ñ–Ω–∏ –±—É–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ
5. **AI Tips** - –ü—ñ–¥–∫–∞–∑–∫–∏ —è–∫ –∫—Ä–∞—â–µ —Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

**–ü—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π:**
```
"Add 3 more animals and make the images bigger"
"Change all colors to pastel tones"
"Make it more suitable for 3-year-olds"
"Add a fun ocean theme with blue backgrounds"
```

**–¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `WorksheetEditingService` –¥–ª—è AI-—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- –ì–µ–Ω–µ—Ä—É—î patch –∑ –∑–º—ñ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ Gemini AI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∑–º—ñ–Ω–∏ –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π

### AIAssistantPanel

–ó–∞–≥–∞–ª—å–Ω–∏–π AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Ç–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (title-block, body-text, etc.) —Ç–∞ page settings.

## –°—Ö–µ–º–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π

–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤:
```
src/constants/interactive-properties-schema.ts
```

### –ü—Ä–∏–∫–ª–∞–¥ —Å—Ö–µ–º–∏:

```typescript
{
  componentType: 'tap-image',
  componentName: 'Tap Image',
  category: 'interactive',
  icon: 'üëÜ',
  properties: [
    {
      key: 'imageUrl',
      label: 'Image URL',
      type: 'url',
      required: true,
      placeholder: 'https://example.com/image.jpg',
      helperText: 'URL of the image to display',
    },
    {
      key: 'size',
      label: 'Size',
      type: 'select',
      default: 'medium',
      options: [
        { value: 'small', label: 'Small (200px)' },
        { value: 'medium', label: 'Medium (350px)' },
        { value: 'large', label: 'Large (500px)' },
      ],
    },
    // ... —ñ–Ω—à—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
  ],
}
```

## –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### 1. –î–æ–¥–∞—Ç–∏ —Å—Ö–µ–º—É –≤ `interactive-properties-schema.ts`

```typescript
export const INTERACTIVE_PROPERTIES_SCHEMAS: ComponentPropertySchema[] = [
  // ... —ñ—Å–Ω—É—é—á—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
  {
    componentType: 'my-new-component',
    componentName: 'My New Component',
    category: 'interactive',
    icon: 'üéÆ',
    properties: [
      {
        key: 'title',
        label: 'Title',
        type: 'string',
        required: true,
      },
      {
        key: 'difficulty',
        label: 'Difficulty',
        type: 'select',
        options: [
          { value: 'easy', label: 'Easy' },
          { value: 'hard', label: 'Hard' },
        ],
      },
    ],
  },
];
```

### 2. –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –í—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å ManualPropertyEditor –≤ —Ç–∞–±—ñ "Properties"
- –°—Ç–≤–æ—Ä–∏—Ç—å —Ñ–æ—Ä–º—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ö–µ–º–∏
- –ü—ñ–¥–∫–ª—é—á–∏—Ç—å AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ AIAssistantPanel

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ RightSidebar

–û–±–∏–¥–≤–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ RightSidebar –∑ —É–º–æ–≤–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é:

```typescript
// –í RightSidebar.tsx - Tab "Properties"
{isInteractiveComponent(elementData.type) ? (
  (() => {
    const schema = getComponentPropertySchema(elementData.type);
    return schema ? (
      <ManualPropertyEditor
        schema={schema}
        properties={elementData.properties}
        onChange={(newProperties) => {
          onUpdate?.(newProperties);
        }}
      />
    ) : (
      // Fallback –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –±–µ–∑ —Å—Ö–µ–º–∏
    );
  })()
) : (
  // –ó–≤–∏—á–∞–π–Ω—ñ PDF –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (title-block, body-text, etc.)
  // –í–±—É–¥–æ–≤–∞–Ω—ñ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏
)}

// Tab "AI Assistant" - —É–º–æ–≤–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
{aiContext ? (
  isInteractiveComponent(elementData.type) ? (
    // –î–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ - —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π AI Editor
    <AIPropertyEditor
      element={elementData}
      pageId={pageData.id}
      schema={schema}
      context={aiContext}
      onPropertiesChange={(newProperties) => {
        onUpdate?.(newProperties);
      }}
    />
  ) : (
    // –î–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ - –∑–∞–≥–∞–ª—å–Ω–∏–π AI Assistant
    <AIAssistantPanel
      selection={selection}
      context={aiContext}
      onEdit={onAIEdit}
      // ...
    />
  )
) : (
  // Fallback: AI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
)}
```

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

‚úÖ –í—Å—ñ 15 —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –º–∞—é—Ç—å –ø–æ–≤–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É:

1. **Tap Image** - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
2. **Simple Drag & Drop** - –ü–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
3. **Color Matcher** - –í–∏–≤—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤
4. **Simple Counter** - –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –æ–±'—î–∫—Ç—ñ–≤
5. **Memory Cards** - –ì—Ä–∞ –Ω–∞ –ø–∞–º'—è—Ç—å
6. **Sorting Game** - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
7. **Sequence Builder** - –í–∏–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
8. **Shape Tracer** - –ú–∞–ª—é–≤–∞–Ω–Ω—è —Ñ—ñ–≥—É—Ä
9. **Emotion Recognizer** - –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –µ–º–æ—Ü—ñ–π
10. **Sound Matcher** - –°–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤
11. **Simple Puzzle** - –ü–∞–∑–ª
12. **Pattern Builder** - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—ñ–≤
13. **Cause & Effect** - –ü—Ä–∏—á–∏–Ω–∞ —Ç–∞ –Ω–∞—Å–ª—ñ–¥–æ–∫
14. **Reward Collector** - –ó–±—ñ—Ä –Ω–∞–≥–æ—Ä–æ–¥
15. **Voice Recorder** - –ó–∞–ø–∏—Å –≥–æ–ª–æ—Å—É

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†—É—á–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

1. –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ canvas
2. –í RightSidebar –æ–±–µ—Ä—ñ—Ç—å —Ç–∞–± "Properties"
3. –ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏
4. –ó–º—ñ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –≤ real-time

### AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

1. –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –í RightSidebar –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Ç–∞–± "AI Assistant"
3. –û–±–µ—Ä—ñ—Ç—å Quick Improvement –∞–±–æ –≤–≤–µ–¥—ñ—Ç—å —Å–≤–æ—é —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Apply AI Edit"
5. AI –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î —Ç–∞ –∑–∞—Å—Ç–æ—Å—É—î –∑–º—ñ–Ω–∏

**–ü—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π:**
- "Add 2 more colors to the game"
- "Make all images bigger and change the layout to grid"
- "Simplify for 3-year-olds with bigger buttons and simpler text"
- "Change the theme to ocean animals"

## –ü–µ—Ä–µ–≤–∞–≥–∏ —Å–∏—Å—Ç–µ–º–∏

‚úÖ **–ü—Ä—è–º–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** - –ë–µ–∑ –∑–∞–π–≤–∏—Ö –æ–±–≥–æ—Ä—Ç–æ–∫ —ñ –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤  
‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–ª–µ–∂–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞** - –†—ñ–∑–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤  
‚úÖ **–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π AI** - `AIPropertyEditor` –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏–º–∏ Quick Improvements –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤  
‚úÖ **–†—É—á–Ω–µ + AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è** - –ì–Ω—É—á–∫—ñ—Å—Ç—å —É –≤–∏–±–æ—Ä—ñ —Å–ø–æ—Å–æ–±—É —á–µ—Ä–µ–∑ —Ç–∞–±–∏ RightSidebar  
‚úÖ **–£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –û–¥–Ω–∞–∫–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** - –ù–µ–º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Å—Ç–∞–Ω  
‚úÖ **Type-safe** - –ü–æ–≤–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è TypeScript  
‚úÖ **–†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å** - –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ø–æ–ª—ñ–≤ —Ç–∞ Quick Improvements  
‚úÖ **DRY –ø—Ä–∏–Ω—Ü–∏–ø** - –ù–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É  
‚úÖ **–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î SOLID** - –ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π  
‚úÖ **–ß–∏—Å—Ç–∏–π UI** - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö —Ç–∞–±—ñ–≤ RightSidebar –∑–∞–º—ñ—Å—Ç—å –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

```
User Action ‚Üí ManualPropertyEditor ‚Üí onChange callback
                                            ‚Üì
                                      RightSidebar
                                            ‚Üì
                                        onUpdate
                                            ‚Üì
                                   Step3CanvasEditor
                                            ‚Üì
                                 Update element in state
                                            ‚Üì
                                     Re-render canvas
```

### AI Editing Flow

```
User Instruction ‚Üí AIAssistantPanel ‚Üí onAIEdit callback
                                            ‚Üì
                                   Step3CanvasEditor
                                            ‚Üì
                               WorksheetEditingService
                                            ‚Üì
                                     Gemini AI API
                                            ‚Üì
                                    Generate patch
                                            ‚Üì
                              Apply patch to properties
                                            ‚Üì
                                   Update element state
```

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π:
- –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

---

**–í–µ—Ä—Å—ñ—è:** 2.0.0  
**–î–∞—Ç–∞:** 2025-10-19  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–ó–º—ñ–Ω–∏:** –í–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ RightSidebar

