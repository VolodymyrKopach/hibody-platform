# Interactive Component Properties System

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ RightSidebar –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ä—É—á–Ω–æ–≥–æ —Ç–∞ AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
properties/
‚îú‚îÄ‚îÄ ManualPropertyEditor.tsx      # –†—É—á–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ ThemeSelector.tsx             # –í–∏–±—ñ—Ä –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó —Ç–µ–º–∏
‚îú‚îÄ‚îÄ VisualChipSelector.tsx       # ‚≠ê –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π chip-based —Å–µ–ª–µ–∫—Ç–æ—Ä (SOLID)
‚îî‚îÄ‚îÄ README.md                     # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ **RightSidebar** –∑ —É–º–æ–≤–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:

### Tab "Properties"
- **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** ‚Üí `ManualPropertyEditor` –∑ –ø–æ–≤–Ω–æ—é —Å—Ö–µ–º–æ—é –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- **–ó–≤–∏—á–∞–π–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** (title-block, body-text, etc.) ‚Üí –≤–±—É–¥–æ–≤–∞–Ω—ñ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏

### Tab "AI Assistant"
- **–í–°–Ü –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** ‚Üí `AIAssistantPanel` (—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π AI –∞—Å–∏—Å—Ç–µ–Ω—Ç)
- **Page selection** ‚Üí `AIAssistantPanel` –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏

–¶–µ —É—Å—É–≤–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤ —ñ —Å—Ç–≤–æ—Ä—é—î —î–¥–∏–Ω–∏–π, —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π AI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### ManualPropertyEditor

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

**Props:**
- `schema: ComponentPropertySchema` - –°—Ö–µ–º–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `properties: any` - –ü–æ—Ç–æ—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- `onChange: (newProperties: any) => void` - Callback –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

**–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏ –ø–æ–ª—ñ–≤:**
- `string` - –¢–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
- `number` - –ß–∏—Å–ª–æ–≤–µ –ø–æ–ª–µ (–∑ min/max)
- `boolean` - –ü–µ—Ä–µ–º–∏–∫–∞—á (Switch)
- `color` - Color picker + —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
- `select` - –í–∏–ø–∞–¥–∞—é—á–∏–π —Å–ø–∏—Å–æ–∫
- `array-simple` - –ú–∞—Å–∏–≤ —Ä—è–¥–∫—ñ–≤ (—Ä–µ–¥–∞–≥—É—î—Ç—å—Å—è —è–∫ —Å–ø–∏—Å–æ–∫)
- `array-object` - –ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ (—Å–∫–ª–∞–¥–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ –ø–æ–ª—è–º–∏)
- `object` - –í–∫–ª–∞–¥–µ–Ω–∏–π –æ–±'—î–∫—Ç –∑ –ø–æ–ª—è–º–∏

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è (required fields)
- –ü—ñ–¥–∫–∞–∑–∫–∏ (tooltips) –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–æ–ª—ñ–≤
- –ó–≥–æ—Ä—Ç–∞–Ω–Ω—è/—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Å–∏–≤—ñ–≤
- Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### ThemeSelector

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤–∏–±–æ—Ä—É –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó —Ç–µ–º–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

**Props:**
- `currentTheme?: ThemeName` - –ü–æ—Ç–æ—á–Ω–∞ –æ–±—Ä–∞–Ω–∞ —Ç–µ–º–∞
- `ageGroup?: string` - –í—ñ–∫–æ–≤–∞ –≥—Ä—É–ø–∞ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ç–µ–º
- `onChange: (theme: ThemeName) => void` - Callback –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ —Ç–µ–º–∏
- `showAllThemes?: boolean` - –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ —Ç–µ–º–∏ (–±–µ–∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó)
- `componentSuitableAges?: string[]` - –ü—ñ–¥—Ö–æ–¥—è—â—ñ –≤—ñ–∫–æ–≤—ñ –≥—Ä—É–ø–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- –í—ñ–∑—É–∞–ª—å–Ω–∏–π preview –∫–æ–∂–Ω–æ—ó —Ç–µ–º–∏ –∑ –∫–æ–ª—å–æ—Ä–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–µ–º –ø–æ –≤—ñ–∫–æ–≤—ñ–π –≥—Ä—É–ø—ñ
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π scrollable layout
- Check mark –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ–π —Ç–µ–º—ñ

### VisualChipSelector ‚≠ê

**–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π SOLID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –¥–ª—è –≤–∏–±–æ—Ä—É –æ–ø—Ü—ñ–π —á–µ—Ä–µ–∑ –≤—ñ–∑—É–∞–ª—å–Ω—ñ —á—ñ–ø–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É –±–µ–∑ –æ–±–≥–æ—Ä—Ç–æ–∫!

**Props:**
```typescript
interface ChipOption<T> {
  value: T;                    // –ó–Ω–∞—á–µ–Ω–Ω—è –æ–ø—Ü—ñ—ó
  label: string;               // –¢–µ–∫—Å—Ç –Ω–∞ —á—ñ–ø—ñ
  emoji?: string;              // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ emoji
  color?: string;              // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–ª—ñ—Ä (–¥–ª—è colorMode='multi')
  tooltip?: {                  // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π tooltip
    title: string;
    description: string;
    details?: string;
  };
}

interface VisualChipSelectorProps<T> {
  label: string;               // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
  icon?: ReactNode;            // –Ü–∫–æ–Ω–∫–∞ –±—ñ–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
  options: ChipOption<T>[];    // –ú–∞—Å–∏–≤ –æ–ø—Ü—ñ–π
  value?: T;                   // –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
  onChange: (value: T) => void; // Callback –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ
  colorMode?: 'single' | 'multi'; // –†–µ–∂–∏–º –∫–æ–ª—å–æ—Ä—ñ–≤
}
```

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- ‚úÖ **Generic —Ç–∏–ø** - –ø—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–∏–º —Ç–∏–ø–æ–º –∑–Ω–∞—á–µ–Ω—å
- ‚úÖ **SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∏** - –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ–¥–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ emoji** –Ω–∞ —á—ñ–ø–∞—Ö
- ‚úÖ **–î–≤–∞ —Ä–µ–∂–∏–º–∏ –∫–æ–ª—å–æ—Ä—ñ–≤:** 
  - `single` - –≤—Å—ñ —á—ñ–ø–∏ theme.primary (–¥–ª—è Age Group)
  - `multi` - –∫–æ–∂–µ–Ω —á—ñ–ø —Å–≤—ñ–π –∫–æ–ª—ñ—Ä (–¥–ª—è Age Style)
- ‚úÖ **–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ tooltips** –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- ‚úÖ **Horizontal scrollable** layout –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º scrollbar
- ‚úÖ **–ö–∞—Å—Ç–æ–º–Ω—ñ —ñ–∫–æ–Ω–∫–∏** –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
- ‚úÖ **Smooth –∞–Ω—ñ–º–∞—Ü—ñ—ó** —Ç–∞ hover –µ—Ñ–µ–∫—Ç–∏
- ‚úÖ **–ü–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ—é–∑–∞–±–µ–ª—å–Ω–∏–π** - –±–µ–∑ –æ–±–≥–æ—Ä—Ç–æ–∫!

---

#### –ü—Ä–∏–∫–ª–∞–¥ 1: –í–∏–±—ñ—Ä –í—ñ–∫–æ–≤–æ—ó –ì—Ä—É–ø–∏ (Age Group)

```typescript
import { VisualChipSelector, ChipOption } from './VisualChipSelector';
import { Users } from 'lucide-react';

const AGE_LABELS: Record<string, string> = {
  '2-3': '2-3 yrs',
  '4-6': '4-6 yrs',
  '7-8': '7-8 yrs',
  '9-10': '9-10 yrs',
};

<VisualChipSelector
  label="Age Group"
  icon={<Users size={14} />}
  options={['2-3', '4-6', '7-8', '9-10'].map((age): ChipOption<string> => ({
    value: age,
    label: AGE_LABELS[age] || age,
  }))}
  value={currentAge}
  onChange={handleAgeChange}
  colorMode="single"  // ‚Üê –û–¥–∏–Ω –∫–æ–ª—ñ—Ä –¥–ª—è –≤—Å—ñ—Ö —á—ñ–ø—ñ–≤
/>
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤:**
- `RightSidebar` –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
  - Tap Image
  - Color Matcher
  - Simple Counter
  - Simple Drag & Drop
  - Voice Recorder

---

#### –ü—Ä–∏–∫–ª–∞–¥ 2: –í–∏–±—ñ—Ä –°—Ç–∏–ª—é Drag-Drop (Age Style)

```typescript
import { VisualChipSelector, ChipOption } from './VisualChipSelector';
import { Move } from 'lucide-react';
import { getAllDragDropStyles } from '@/constants/drag-drop-age-styles';
import { DragDropAgeStyleName } from '@/types/drag-drop-styles';

const STYLE_CONFIG: Record<DragDropAgeStyleName, { emoji: string; color: string }> = {
  'toddler': { emoji: 'üê£', color: '#FF6B9D' },
  'preschool': { emoji: 'üé®', color: '#667eea' },
  'elementary': { emoji: 'üìö', color: '#3B82F6' },
  'middle': { emoji: 'üéØ', color: '#8B5CF6' },
  'teen': { emoji: 'üéì', color: '#1F2937' },
};

const AGE_LABELS: Record<DragDropAgeStyleName, string> = {
  'toddler': '3-5 yrs',
  'preschool': '6-7 yrs',
  'elementary': '8-9 yrs',
  'middle': '10-13 yrs',
  'teen': '14-18 yrs',
};

const allStyles = getAllDragDropStyles();
const options: ChipOption<DragDropAgeStyleName>[] = allStyles.map((style) => ({
  value: style.id,
  label: AGE_LABELS[style.id],
  emoji: STYLE_CONFIG[style.id].emoji,
  color: STYLE_CONFIG[style.id].color,  // ‚Üê –ö–æ–∂–µ–Ω —á—ñ–ø —Å–≤—ñ–π –∫–æ–ª—ñ—Ä!
  tooltip: {
    title: style.name,
    description: style.description,
    details: `Item: ${style.elementSize.item}px ‚Ä¢ Target: ${style.elementSize.target}px`,
  },
}));

<VisualChipSelector
  label="Age Style"
  icon={<Move size={14} />}
  options={options}
  value={currentStyle}
  onChange={handleStyleChange}
  colorMode="multi"  // ‚Üê –ú—É–ª—å—Ç–∏-–∫–æ–ª—ñ—Ä–Ω–∏–π —Ä–µ–∂–∏–º
/>
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤:**
- `ManualPropertyEditor` –¥–ª—è `simple-drag-drop` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

#### –ü—Ä–∏–∫–ª–∞–¥ 3: –í–ª–∞—Å–Ω–∏–π –°–µ–ª–µ–∫—Ç–æ—Ä (Custom)

```typescript
import { VisualChipSelector, ChipOption } from './VisualChipSelector';
import { Target } from 'lucide-react';

// –°–µ–ª–µ–∫—Ç–æ—Ä —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
<VisualChipSelector
  label="Difficulty"
  icon={<Target size={14} />}
  options={[
    { 
      value: 'easy', 
      label: 'Easy', 
      emoji: 'üòä', 
      color: '#10B981',
      tooltip: {
        title: 'Easy Level',
        description: 'Perfect for beginners',
        details: 'Ages 3-5'
      }
    },
    { value: 'medium', label: 'Medium', emoji: 'ü§î', color: '#F59E0B' },
    { value: 'hard', label: 'Hard', emoji: 'üò∞', color: '#EF4444' },
  ]}
  value={difficulty}
  onChange={setDifficulty}
  colorMode="multi"
/>
```

---

#### –ß–æ–º—É –ë–µ–∑ –û–±–≥–æ—Ä—Ç–æ–∫?

**SOLID Principles:**
- ‚úÖ **Single Responsibility** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–æ–±–∏—Ç—å –æ–¥–Ω—É —Ä—ñ—á –¥–æ–±—Ä–µ
- ‚úÖ **Open/Closed** - –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —á–µ—Ä–µ–∑ props
- ‚úÖ **Dependency Inversion** - –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ú–µ–Ω—à–µ –∫–æ–¥—É (–Ω–∞ 68% –º–µ–Ω—à–µ –±–µ–∑ –æ–±–≥–æ—Ä—Ç–æ–∫!)
- ‚úÖ –ü—Ä—è–º–∏–π –≤–∏–∫–ª–∏–∫ - –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à–µ —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
- ‚úÖ –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ–ø—Ü—ñ—è–º–∏
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å–µ–ª–µ–∫—Ç–æ—Ä–∏
- ‚úÖ –ù–µ–º–∞—î –∑–∞–π–≤–∏—Ö —à–∞—Ä—ñ–≤ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó

### AIAssistantPanel

**–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç** –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Ç–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ç–∞–±—ñ "AI Assistant" –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∞ page settings.

**Props:**
- `selection: Selection` - –ü–æ—Ç–æ—á–Ω–∏–π –≤–∏–±—Ä–∞–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –∞–±–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `context: WorksheetEditContext` - –ö–æ–Ω—Ç–µ–∫—Å—Ç worksheet
- `onEdit: (instruction: string) => Promise<void>` - Callback –¥–ª—è AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- `editHistory: WorksheetEdit[]` - –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω
- `isEditing: boolean` - –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—É —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- `error: string | null` - –ü–æ–º–∏–ª–∫–∞ —è–∫—â–æ —î
- `onClearError?: () => void` - –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
1. **Quick Improvements** - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ñ —à–≤–∏–¥–∫—ñ –¥—ñ—ó –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É:
   - –ê–¥–∞–ø—Ç—É—é—Ç—å—Å—è –¥–æ —Ç–∏–ø—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   - –í—Ä–∞—Ö–æ–≤—É—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç worksheet
   
2. **Custom Instructions** - –î–æ–≤—ñ–ª—å–Ω—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é
3. **Context-aware** - –í—Ä–∞—Ö–æ–≤—É—î —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞/—Å—Ç–æ—Ä—ñ–Ω–∫–∏, –≤—ñ–∫–æ–≤—É –≥—Ä—É–ø—É, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
4. **Edit History** - –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö –∑–º—ñ–Ω –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –ø–µ—Ä–µ–≥–ª—è–¥—É
5. **Real-time feedback** - –ü–æ–∫–∞–∑—É—î, —è–∫—ñ –∑–º—ñ–Ω–∏ –±—É–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ

**–ü—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π:**
```
"Add 3 more animals and make the images bigger"
"Change all colors to pastel tones"
"Make it more suitable for 3-year-olds"
"Add a fun ocean theme with blue backgrounds"
"Change background to gradient blue"
```

**–¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `WorksheetEditingService` –¥–ª—è AI-—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
- –ì–µ–Ω–µ—Ä—É—î patch –∑ –∑–º—ñ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ Gemini AI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î –∑–º—ñ–Ω–∏ –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π
- –ü—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞–∫ —ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

## –°—Ö–µ–º–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π

–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤:
```
src/constants/interactive-properties-schema.ts
```

### –ü—Ä–∏–∫–ª–∞–¥ —Å—Ö–µ–º–∏:

```typescript
{
  componentType: 'tap-image',
  componentName: 'Tap Image',
  category: 'interactive',
  icon: 'üëÜ',
  properties: [
    {
      key: 'imageUrl',
      label: 'Image URL',
      type: 'url',
      required: true,
      placeholder: 'https://example.com/image.jpg',
      helperText: 'URL of the image to display',
    },
    {
      key: 'size',
      label: 'Size',
      type: 'select',
      default: 'medium',
      options: [
        { value: 'small', label: 'Small (200px)' },
        { value: 'medium', label: 'Medium (350px)' },
        { value: 'large', label: 'Large (500px)' },
      ],
    },
    // ... —ñ–Ω—à—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
  ],
}
```

## –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### 1. –î–æ–¥–∞—Ç–∏ —Å—Ö–µ–º—É –≤ `interactive-properties-schema.ts`

```typescript
export const INTERACTIVE_PROPERTIES_SCHEMAS: ComponentPropertySchema[] = [
  // ... —ñ—Å–Ω—É—é—á—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
  {
    componentType: 'my-new-component',
    componentName: 'My New Component',
    category: 'interactive',
    icon: 'üéÆ',
    properties: [
      {
        key: 'title',
        label: 'Title',
        type: 'string',
        required: true,
      },
      {
        key: 'difficulty',
        label: 'Difficulty',
        type: 'select',
        options: [
          { value: 'easy', label: 'Easy' },
          { value: 'hard', label: 'Hard' },
        ],
      },
    ],
  },
];
```

### 2. –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –í—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å ManualPropertyEditor –≤ —Ç–∞–±—ñ "Properties"
- –°—Ç–≤–æ—Ä–∏—Ç—å —Ñ–æ—Ä–º—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ö–µ–º–∏
- –ü—ñ–¥–∫–ª—é—á–∏—Ç—å AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ AIAssistantPanel

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ RightSidebar

–°–∏—Å—Ç–µ–º–∞ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ RightSidebar –∑ –ø—Ä–æ—Å—Ç–æ—é —Ç–∞ —á—ñ—Ç–∫–æ—é –ª–æ–≥—ñ–∫–æ—é:

```typescript
// –í RightSidebar.tsx - Tab "Properties"
{isInteractiveComponent(elementData.type) ? (
  (() => {
    const schema = getComponentPropertySchema(elementData.type);
    return schema ? (
      <ManualPropertyEditor
        schema={schema}
        properties={elementData.properties}
        onChange={(newProperties) => {
          onUpdate?.(newProperties);
        }}
      />
    ) : (
      // Fallback –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –±–µ–∑ —Å—Ö–µ–º–∏
    );
  })()
) : (
  // –ó–≤–∏—á–∞–π–Ω—ñ PDF –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (title-block, body-text, etc.)
  // –í–±—É–¥–æ–≤–∞–Ω—ñ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏
)}

// Tab "AI Assistant" - –£–ù–Ü–í–ï–†–°–ê–õ–¨–ù–ò–ô –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤
{aiContext && onAIEdit ? (
  // ‚úÖ AIAssistantPanel –¥–ª—è –í–°–Ü–• –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫
  <AIAssistantPanel
    selection={selection}
    context={aiContext}
    onEdit={onAIEdit}
    editHistory={editHistory}
    isEditing={isAIEditing}
    error={editError}
    onClearError={onClearEditError}
  />
) : (
  // Fallback: AI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
)}
```

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

‚úÖ –í—Å—ñ 15 —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –º–∞—é—Ç—å –ø–æ–≤–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É:

1. **Tap Image** - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
2. **Simple Drag & Drop** - –ü–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
3. **Color Matcher** - –í–∏–≤—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤
4. **Simple Counter** - –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –æ–±'—î–∫—Ç—ñ–≤
5. **Memory Cards** - –ì—Ä–∞ –Ω–∞ –ø–∞–º'—è—Ç—å
6. **Sorting Game** - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
7. **Sequence Builder** - –í–∏–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
8. **Shape Tracer** - –ú–∞–ª—é–≤–∞–Ω–Ω—è —Ñ—ñ–≥—É—Ä
9. **Emotion Recognizer** - –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –µ–º–æ—Ü—ñ–π
10. **Sound Matcher** - –°–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∑–≤—É–∫—ñ–≤
11. **Simple Puzzle** - –ü–∞–∑–ª
12. **Pattern Builder** - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—ñ–≤
13. **Cause & Effect** - –ü—Ä–∏—á–∏–Ω–∞ —Ç–∞ –Ω–∞—Å–ª—ñ–¥–æ–∫
14. **Reward Collector** - –ó–±—ñ—Ä –Ω–∞–≥–æ—Ä–æ–¥
15. **Voice Recorder** - –ó–∞–ø–∏—Å –≥–æ–ª–æ—Å—É

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†—É—á–Ω–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

1. –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ canvas
2. –í RightSidebar –æ–±–µ—Ä—ñ—Ç—å —Ç–∞–± "Properties"
3. –ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ UI –∫–æ–Ω—Ç—Ä–æ–ª–∏
4. –ó–º—ñ–Ω–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –≤ real-time

### AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

1. –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –í RightSidebar –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Ç–∞–± "AI Assistant"
3. –û–±–µ—Ä—ñ—Ç—å Quick Improvement –∞–±–æ –≤–≤–µ–¥—ñ—Ç—å —Å–≤–æ—é —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Apply AI Edit"
5. AI –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î —Ç–∞ –∑–∞—Å—Ç–æ—Å—É—î –∑–º—ñ–Ω–∏

**–ü—Ä–∏–∫–ª–∞–¥–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π:**
- "Add 2 more colors to the game"
- "Make all images bigger and change the layout to grid"
- "Simplify for 3-year-olds with bigger buttons and simpler text"
- "Change the theme to ocean animals"

## –ü–µ—Ä–µ–≤–∞–≥–∏ —Å–∏—Å—Ç–µ–º–∏

‚úÖ **–ü—Ä—è–º–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** - –ë–µ–∑ –∑–∞–π–≤–∏—Ö –æ–±–≥–æ—Ä—Ç–æ–∫ —ñ –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∞–±—ñ–≤  
‚úÖ **–Ñ–¥–∏–Ω–∏–π AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - `AIAssistantPanel` –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏** - –ù–µ–º–∞—î —É–º–æ–≤–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –≤ AI —Ç–∞–±—ñ  
‚úÖ **–†—É—á–Ω–µ + AI —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è** - –ì–Ω—É—á–∫—ñ—Å—Ç—å —É –≤–∏–±–æ—Ä—ñ —Å–ø–æ—Å–æ–±—É —á–µ—Ä–µ–∑ —Ç–∞–±–∏ RightSidebar  
‚úÖ **–£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –û–¥–Ω–∞–∫–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** - –ù–µ–º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Å—Ç–∞–Ω  
‚úÖ **Type-safe** - –ü–æ–≤–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è TypeScript  
‚úÖ **–†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å** - –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ø–æ–ª—ñ–≤  
‚úÖ **DRY –ø—Ä–∏–Ω—Ü–∏–ø** - –ù–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É  
‚úÖ **–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î SOLID** - –ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π  
‚úÖ **–ß–∏—Å—Ç–∏–π UI** - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö —Ç–∞–±—ñ–≤ RightSidebar –∑–∞–º—ñ—Å—Ç—å –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫  
‚úÖ **–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å AI** - –û–¥–∏–Ω –∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –≤—Å—å–æ–≥–æ, –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

```
User Action ‚Üí ManualPropertyEditor ‚Üí onChange callback
                                            ‚Üì
                                      RightSidebar
                                            ‚Üì
                                        onUpdate
                                            ‚Üì
                                   Step3CanvasEditor
                                            ‚Üì
                                 Update element in state
                                            ‚Üì
                                     Re-render canvas
```

### AI Editing Flow

```
User Instruction ‚Üí AIAssistantPanel (—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π) ‚Üí onAIEdit callback
                                                              ‚Üì
                                                     Step3CanvasEditor
                                                              ‚Üì
                                                 WorksheetEditingService
                                                              ‚Üì
                                                       Gemini AI API
                                                              ‚Üì
                                                      Generate patch
                                                              ‚Üì
                                                Apply patch to properties
                                                              ‚Üì
                                                     Update element state
                                                              ‚Üì
                                                 Display changes in history
```

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π:
- –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

---

**–í–µ—Ä—Å—ñ—è:** 2.1.0  
**–î–∞—Ç–∞:** 2025-10-20  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–ó–º—ñ–Ω–∏:** –°–ø—Ä–æ—â–µ–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ AI - —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ AIAssistantPanel –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

