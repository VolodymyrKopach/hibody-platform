# –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ü—Ä–æ–±–ª–µ–º –∑ –ê–Ω—ñ–º–∞—Ü—ñ—è–º–∏ –≤ –ü—Ä–µ–≤—å—é –°–ª–∞–π–¥—ñ–≤

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤—ñ–¥–æ–º–∏–≤ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é –ø—Ä–µ–≤—å—é —Å–ª–∞–π–¥—ñ–≤ —É –±—ñ—á–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ:
- –ü—Ä–µ–≤—å—é –Ω–µ –≥–µ–Ω–µ—Ä—É–≤–∞–ª–∏—Å—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ
- –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–∏—Å—è —è–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Ç–µ–∫—Å—Ç
- –¢–µ–∫—Å—Ç —Ç–∞–∫–æ–∂ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞–≤—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–∏—á–∏–Ω–∞: –∞–Ω—ñ–º–∞—Ü—ñ—ó –≤ HTML –Ω–µ –≤—Å—Ç–∏–≥–∞–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç–∏—Å—è –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫—Ä—ñ–Ω—à–æ—Ç—É

## üîß –†—ñ—à–µ–Ω–Ω—è

### 1. –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –ß–∞—Å—É –û—á—ñ–∫—É–≤–∞–Ω–Ω—è

**–û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `generateSlidePreview`:**
```typescript
// –ó–±—ñ–ª—å—à–µ–Ω–æ –∑ 1000ms –¥–æ 2000ms
await new Promise(resolve => setTimeout(resolve, 2000));
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `generateSlidePreviewAlt`:**
```typescript
// –ó–±—ñ–ª—å—à–µ–Ω–æ –∑ 500ms –¥–æ 2000ms
setTimeout(async () => { /* ... */ }, 2000);
```

### 2. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –î–µ—Ç–µ–∫—Ü—ñ—è –ê–Ω—ñ–º–∞—Ü—ñ–π

**–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è `hasAnimations`:**
```typescript
export function hasAnimations(htmlContent: string): boolean {
  const animationPatterns = [
    /animation\\s*:/,
    /transition\\s*:/,
    /@keyframes/,
    /transform\\s*:/,
    /animate/i,
    /fadeIn/i,
    /slideIn/i,
    /bounceIn/i,
    /rotateIn/i,
    /data-aos/i,
    /aos-/i
  ];
  
  return animationPatterns.some(pattern => pattern.test(htmlContent));
}
```

### 3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è HTML –¥–ª—è –ü—Ä–µ–≤—å—é

**–§—É–Ω–∫—Ü—ñ—è `optimizeHtmlForPreviewWithAnimations`:**
- –ü—Ä–∏—Å–∫–æ—Ä—é—î –≤—Å—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –¥–æ 0.1s
- –í–∏–¥–∞–ª—è—î –∑–∞—Ç—Ä–∏–º–∫–∏ –∞–Ω—ñ–º–∞—Ü—ñ–π
- –î–æ–¥–∞—î CSS –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

```typescript
const speedUpAnimationsCSS = `
  <style>
    *, *::before, *::after {
      animation-duration: 0.1s !important;
      animation-delay: 0s !important;
      transition-duration: 0.1s !important;
      transition-delay: 0s !important;
    }
    [data-aos] {
      animation-duration: 0.1s !important;
    }
  </style>
`;
```

### 4. –û–Ω–æ–≤–ª–µ–Ω—ñ –¢–∞–π–º–∏–Ω–≥–∏ –≤ Chat Page

**–ó–±—ñ–ª—å—à–µ–Ω—ñ –∑–∞—Ç—Ä–∏–º–∫–∏:**
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å: `3000ms` (–±—É–ª–æ 2000ms)
- Timeout: `20000ms` (–±—É–ª–æ 15000ms)
- –ü–æ–≤—Ç–æ—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞: `7000ms` (–±—É–ª–æ 5000ms)
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ–π: `2000ms`

**–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞:**
```typescript
// –Ø–∫—â–æ —î –∞–Ω—ñ–º–∞—Ü—ñ—ó, –∞–ª–µ –Ω–µ–º–∞—î –∑–æ–±—Ä–∞–∂–µ–Ω—å
if (images.length === 0 && containsAnimations) {
  console.log('üé¨ –ê–Ω—ñ–º–∞—Ü—ñ—ó –∑–Ω–∞–π–¥–µ–Ω—ñ, —á–µ–∫–∞—î–º–æ —ó—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è...');
  setTimeout(() => {
    console.log('‚úÖ –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–≤–µ—Ä—à–∏—Ç–∏—Å—è, –º–æ–∂–Ω–∞ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–µ–≤—é');
    cleanup();
    resolve(true);
  }, 2000); // –î–æ–¥–∞—Ç–∫–æ–≤–æ 2 —Å–µ–∫—É–Ω–¥–∏ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ–π
  return;
}
```

## üìä –¢–∞–π–º—ñ–Ω–≥ –°—Ç—Ä–∞—Ç–µ–≥—ñ—è

### –ü–æ–≤–Ω–∞ –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å:
1. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è iframe** - –º–∏—Ç—Ç—î–≤–æ
2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è HTML** - 1-2 —Å–µ–∫—É–Ω–¥–∏
3. **–ß–µ–∫–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å** - 3 —Å–µ–∫—É–Ω–¥–∏
4. **–î–æ–¥–∞—Ç–∫–æ–≤—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó** - 2 —Å–µ–∫—É–Ω–¥–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
5. **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é** - 1-2 —Å–µ–∫—É–Ω–¥–∏

**–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å:** 7-9 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º

### Fallback Strategy:
- –ü—Ä–∏ –Ω–µ–≤–¥–∞—á—ñ - –ø–æ–≤—Ç–æ—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞ —á–µ—Ä–µ–∑ 7 —Å–µ–∫—É–Ω–¥
- –ú–∞–∫—Å–∏–º—É–º 2 —Å–ø—Ä–æ–±–∏
- –Ø–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è fallback –ø—Ä–µ–≤—å—é

## üé¨ –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –ê–Ω—ñ–º–∞—Ü—ñ—ó

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î:
- CSS `animation` —Ç–∞ `transition`
- CSS `@keyframes`
- CSS `transform`
- –ü–æ–ø—É–ª—è—Ä–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ–π–Ω—ñ –∫–ª–∞—Å–∏: `fadeIn`, `slideIn`, `bounceIn`, `rotateIn`
- AOS (Animate On Scroll) –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É
- –ö–∞—Å—Ç–æ–º–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –∑ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–ª–∞–π–¥ –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ª–æ–≥–∏ —Ç–∏–ø—É:
   - `üé¨ –ê–Ω—ñ–º–∞—Ü—ñ—ó –∑–Ω–∞–π–¥–µ–Ω—ñ, —á–µ–∫–∞—î–º–æ —ó—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è...`
   - `‚ú® –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ—ó –≥–æ—Ç–æ–≤—ñ!`
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –ø—Ä–µ–≤—é –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–º–∏ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é –¥–ª—è —Å–ª–∞–π–¥—ñ–≤ –∑ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –≤ thumbnail
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–µ—Ç–µ–∫—Ü—ñ—è —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
- ‚úÖ Fallback –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤
- ‚úÖ –ü—Ä–∏—Å–∫–æ—Ä–µ–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –¥–ª—è —à–≤–∏–¥—à–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó 