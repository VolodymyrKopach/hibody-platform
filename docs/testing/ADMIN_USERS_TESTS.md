# –¢–µ—Å—Ç-–∫–µ–π—Å–∏ Admin Users Page

**–í–µ—Ä—Å—ñ—è:** 1.0 (–ø—ñ—Å–ª—è Token Tracking Implementation)  
**–î–∞—Ç–∞:** 2024-10-15

---

## –¢–ï–°–¢ #1: –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —è–∫ Super Admin
2. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
3. –î–æ—á–µ–∫–∞–π—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (skeleton ‚Üí –¥–∞–Ω—ñ)
4. –ü–æ–¥–∏–≤–∏—Å—å –Ω–∞ –ø–µ—Ä—à–∏—Ö 5 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
- ‚úÖ Email –≤–∏–¥–Ω–æ
- ‚úÖ Full Name –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è (–∞–±–æ "No Name")
- ‚úÖ Lessons Count - —Ü–µ —á–∏—Å–ª–∞ (–Ω–µ 0 –¥–ª—è –≤—Å—ñ—Ö)
- ‚úÖ Subscription Status –ø–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è (free/professional/etc)
- ‚úÖ Last Sign In –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è (–Ω–µ "Never" –¥–ª—è –≤—Å—ñ—Ö)
- ‚úÖ Admin badge –≤–∏–¥–Ω–æ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤ (—á–µ—Ä–≤–æ–Ω–∏–π –¥–ª—è Super Admin, —Å–∏–Ω—ñ–π –¥–ª—è Admin)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ:**
- –†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ auth.users
- –†–µ–∞–ª—å–Ω—ñ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–∏ lessons/slides/worksheets
- –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —Ä–æ–ª—ñ –∞–¥–º—ñ–Ω—ñ–≤

---

## –¢–ï–°–¢ #2: –ü–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø–æ—à—É–∫ –ø—Ä–∞—Ü—é—î –ø–æ email —Ç–∞ —ñ–º–µ–Ω—ñ

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ó–∞–ø–∏—à–∏ Total Users: _____
3. –í –ø–æ–ª–µ –ø–æ—à—É–∫—É –≤–≤–µ–¥–∏ —á–∞—Å—Ç–∏–Ω—É email (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "test")
4. –ü–æ—á–µ–∫–∞–π 500ms (debounce)
5. –û—á–∏—Å—Ç–∏ –ø–æ—à—É–∫ ‚Üí –≤–≤–µ–¥–∏ —á–∞—Å—Ç–∏–Ω—É —ñ–º–µ–Ω—ñ

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ—à—É–∫ –ø–æ email –ø—Ä–∞—Ü—é—î
- ‚úÖ –ü–æ—à—É–∫ –ø–æ —ñ–º–µ–Ω—ñ –ø—Ä–∞—Ü—é—î  
- ‚úÖ –ü–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- ‚úÖ Total count –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
- ‚úÖ Empty state —è–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
- ‚úÖ –ú–æ–∂–Ω–∞ –æ—á–∏—Å—Ç–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ:**
- Filter-then-paginate –ª–æ–≥—ñ–∫–∞ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## –¢–ï–°–¢ #3: –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Ä–æ–ª—è—Ö

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä Role (All/Users/Admin/Super Admin)

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ó–∞–ø–∏—à–∏ Total: _____
3. –§—ñ–ª—å—Ç—Ä Role ‚Üí `Users`
4. –ó–∞–ø–∏—à–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å: _____
5. –§—ñ–ª—å—Ç—Ä Role ‚Üí `Admin`
6. –ó–∞–ø–∏—à–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å: _____
7. –§—ñ–ª—å—Ç—Ä Role ‚Üí `Super Admin`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ All - –ø–æ–∫–∞–∑—É—î –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ Users - —Ç—ñ–ª—å–∫–∏ –±–µ–∑ admin badge
- ‚úÖ Admin - —Ç—ñ–ª—å–∫–∏ –∑ —Å–∏–Ω—ñ–º Admin badge
- ‚úÖ Super Admin - —Ç—ñ–ª—å–∫–∏ –∑ —á–µ—Ä–≤–æ–Ω–∏–º Super Admin badge
- ‚úÖ –°—É–º–∞ Users + Admins + Super Admins = Total Users

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó:**
- ‚úÖ –ü—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–∫–∞–∑—É—î –ø—Ä–∞–≤–∏–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚úÖ –ù–µ –ø–æ–∫–∞–∑—É—î –ø–æ—Ä–æ–∂–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

---

## –¢–ï–°–¢ #4: –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –ø—ñ–¥–ø–∏—Å–∫–∞–º

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä Subscription Status

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –§—ñ–ª—å—Ç—Ä Subscription ‚Üí `Free`
3. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –≤—Å—ñ –º–∞—é—Ç—å chip "Free"
4. –§—ñ–ª—å—Ç—Ä Subscription ‚Üí `Active`
5. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –≤—Å—ñ –º–∞—é—Ç—å chip "Active" (–∑–µ–ª–µ–Ω–∏–π)
6. –ö–æ–º–±—ñ–Ω—É–π –∑ –ø–æ—à—É–∫–æ–º

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Free - —Ç—ñ–ª—å–∫–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ
- ‚úÖ Active - —Ç—ñ–ª—å–∫–∏ –∑ –∞–∫—Ç–∏–≤–Ω–∏–º–∏ –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏
- ‚úÖ Trial - —Ç—ñ–ª—å–∫–∏ trial –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- ‚úÖ Cancelled - —Å–∫–∞—Å–æ–≤–∞–Ω—ñ –ø—ñ–¥–ø–∏—Å–∫–∏
- ‚úÖ –ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è –ø–æ—à—É–∫ + —Ñ—ñ–ª—å—Ç—Ä –ø—Ä–∞—Ü—é—î

---

## –¢–ï–°–¢ #5: –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è –∑—ñ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –ú—ñ–Ω—ñ–º—É–º 25 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ –ë–î

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ó–∞–ø–∏—à–∏ Total Users: _____
3. –í–≤–µ–¥–∏ –ø–æ—à—É–∫ (—â–æ–± –∑–∞–ª–∏—à–∏–ª–æ—Å—å >20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤)
4. –ü–µ—Ä–µ–≤—ñ—Ä Total Pages
5. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É 2
6. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –ø–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (offset 20-40)
7. –í–≤–µ–¥–∏ —Ñ—ñ–ª—å—Ç—Ä —â–æ –∑–∞–ª–∏—à–∞—î <10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
8. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ pagination –∑–Ω–∏–∫ –∞–±–æ –ø–æ–∫–∞–∑—É—î 1 —Å—Ç–æ—Ä—ñ–Ω–∫—É

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total pages —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
- ‚úÖ –ö–æ–∂–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–∫–∞–∑—É—î –¥–æ 20 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ –ù–µ–º–∞—î –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
- ‚úÖ –ù–µ–º–∞—î –ø–æ—Ä–æ–∂–Ω—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚úÖ Pagination —Ö–æ–≤–∞—î—Ç—å—Å—è —è–∫—â–æ ‚â§ 20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

**–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ FIX:**
- ‚ùå –°–¢–ê–†–ê –ü–†–û–ë–õ–ï–ú–ê: –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Å–ø–æ—á–∞—Ç–∫—É, –ø–æ—Ç—ñ–º —Ñ—ñ–ª—å—Ç—Ä ‚Üí –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
- ‚úÖ –ù–û–í–ê –õ–û–ì–Ü–ö–ê: –§—ñ–ª—å—Ç—Ä —Å–ø–æ—á–∞—Ç–∫—É, –ø–æ—Ç—ñ–º –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## –¢–ï–°–¢ #6: –î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ - –æ—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ UserDetail API –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ö–ª—ñ–∫–Ω–∏ –Ω–∞ –±—É–¥—å-—è–∫–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
3. –î–æ—á–µ–∫–∞–π—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π
4. –ü–µ—Ä–µ–≤—ñ—Ä –≤—Å—ñ —Å–µ–∫—Ü—ñ—ó

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

**User Info Card:**
- ‚úÖ Avatar –∑ –ø–µ—Ä—à–æ—é –ª—ñ—Ç–µ—Ä–æ—é email
- ‚úÖ Full Name (–∞–±–æ "No Name")
- ‚úÖ Email –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- ‚úÖ Admin badge —è–∫—â–æ —î
- ‚úÖ Subscription chip (Free/Active/Trial/Cancelled)

**Dates:**
- ‚úÖ Joined - —Ä–µ–∞–ª—å–Ω–∞ –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- ‚úÖ Last Sign In - –ù–ï null (—Ä–µ–∞–ª—å–Ω–∞ –¥–∞—Ç–∞ –∑ auth.users)
- ‚úÖ Last Activity - –æ—Å—Ç–∞–Ω–Ω—ñ–π –∑–∞–ø–∏—Å –∑ activity_log
- ‚úÖ Total Paid - —Å—É–º–∞ –ø–ª–∞—Ç–µ–∂—ñ–≤

**–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ FIX:**
- ‚ùå –ë–£–õ–û: `last_sign_in_at: null // TODO: Track last sign in`
- ‚úÖ –¢–ï–ü–ï–†: –†–µ–∞–ª—å–Ω–∞ –¥–∞—Ç–∞ –∑ `auth.users`

---

## –¢–ï–°–¢ #7: Stats Cards - —Ä–µ–∞–ª—å–Ω—ñ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–∏

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –∑–∞–º–æ–∫–∞–Ω–∞

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥–∫—Ä–∏–π –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
2. –ü–æ–¥–∏–≤–∏—Å—å –Ω–∞ 4 stat cards
3. –ü–æ—Ä—ñ–≤–Ω—è–π –∑ –ë–î —á–µ—Ä–µ–∑ Supabase Dashboard

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

**Lessons Created:**
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î `SELECT COUNT(*) FROM lessons WHERE user_id = '...'`

**Slides Generated:**
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î `SELECT COUNT(*) FROM slides s JOIN lessons l ON s.lesson_id = l.id WHERE l.user_id = '...'`

**Worksheets Created:**
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î `SELECT COUNT(*) FROM worksheets WHERE user_id = '...'`

**AI Requests:**
- ‚úÖ –ü—ñ–¥—Ä–∞—Ö–æ–≤—É—î –∑ activity_log (actions: slide_generated, worksheet_created, ai_request_completed)
- ‚ùå –ë–£–õ–û: `total_ai_requests: 0 // TODO: Implement tracking`
- ‚úÖ –¢–ï–ü–ï–†: –†–µ–∞–ª—å–Ω–∏–π COUNT –∑ activity_log

---

## –¢–ï–°–¢ #8: Token Usage & Cost üí∞ (NEW!)

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª tracking —Ç–æ–∫–µ–Ω—ñ–≤

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤ —â–æ—Å—å —á–µ—Ä–µ–∑ AI

**–ö—Ä–æ–∫–∏:**
1. –ó–≥–µ–Ω–µ—Ä—É–π worksheet –∞–±–æ lesson plan —è–∫ test user
2. –ü–µ—Ä–µ–π–¥–∏ `/admin/users` ‚Üí –∫–ª—ñ–∫–Ω–∏ –Ω–∞ test user
3. –ó–Ω–∞–π–¥–∏ —Å–µ–∫—Ü—ñ—é "Token Usage & Cost"

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

**Total Tokens Used:**
- ‚úÖ –ü–æ–∫–∞–∑—É—î —á–∏—Å–ª–æ –≤ K (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "15.2K")
- ‚úÖ Below: —Ç–æ—á–Ω–µ —á–∏—Å–ª–æ —Ç–æ–∫–µ–Ω—ñ–≤ "15,234 tokens"

**Total Cost:**
- ‚úÖ –ü–æ–∫–∞–∑—É—î –≤–∞—Ä—Ç—ñ—Å—Ç—å –≤ USD (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "$0.0045")
- ‚úÖ –°–∏–Ω—ñ–π –∫–æ–ª—ñ—Ä (primary)
- ‚úÖ Below: "USD spent on AI"

**Average Cost per Request:**
- ‚úÖ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫: total_cost / total_ai_requests
- ‚úÖ –ü–æ–∫–∞–∑—É—î "$0.0003" format

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT 
  SUM(total_tokens) as total_tokens,
  SUM(total_cost) as total_cost,
  COUNT(*) as requests
FROM token_usage 
WHERE user_id = 'USER_ID';
```

**–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ FIX:**
- ‚ùå –ë–£–õ–û: `total_tokens_used: 0 // TODO`, `total_tokens_cost: 0 // TODO`
- ‚úÖ –¢–ï–ü–ï–†: –†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ token_usage —Ç–∞–±–ª–∏—Ü—ñ

---

## –¢–ï–°–¢ #9: Generation Limit - —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ª—ñ–º—ñ—Ç–∏ –Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω—ñ

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥–∫—Ä–∏–π –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
2. –ó–Ω–∞–π–¥–∏ "Generation Limit" —Å–µ–∫—Ü—ñ—é
3. –ü–æ–¥–∏–≤–∏—Å—å –Ω–∞ progress bar —Ç–∞ —á–∏—Å–ª–∞

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Used / Total –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î generation_limits —Ç–∞–±–ª–∏—Ü—ñ
- ‚úÖ Progress bar –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ 3/10 = 30%)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Edit" –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥—ñ–∞–ª–æ–≥

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –ë–î:**
```sql
SELECT used, total, reset_at 
FROM generation_limits 
WHERE user_id = 'USER_ID';
```

**–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ FIX:**
- ‚ùå –ë–£–õ–û: `generation_limit_used: 0`, `generation_limit_total: 10 // hardcoded`
- ‚úÖ –¢–ï–ü–ï–†: –†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ generation_limits —Ç–∞–±–ª–∏—Ü—ñ

---

## –¢–ï–°–¢ #10: Recent Activity

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è

**–ö—Ä–æ–∫–∏:**
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î lesson
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≥–µ–Ω–µ—Ä—É—î slide
3. –í—ñ–¥–∫—Ä–∏–π –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. –ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ "Recent Activity"

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—É—î –æ—Å—Ç–∞–Ω–Ω—ñ 10-20 –∑–∞–ø–∏—Å—ñ–≤
- ‚úÖ Action chips (lesson_created, slide_generated, etc)
- ‚úÖ Entity Type (lesson, slide, worksheet)
- ‚úÖ –î–∞—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞
- ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è: –Ω–∞–π–Ω–æ–≤—ñ—à—ñ –∑–≤–µ—Ä—Ö—É

---

## –¢–ï–°–¢ #11: Make Admin - —Ç—ñ–ª—å–∫–∏ Super Admin üëë

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Ç—ñ–ª—å–∫–∏ Super Admin –º–æ–∂–µ –ø—Ä–∏–∑–Ω–∞—á–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ–≤

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —è–∫ **Super Admin**
2. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
3. –ó–Ω–∞–π–¥–∏ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–±–µ–∑ admin badge)
4. –ü–æ–¥–∏–≤–∏—Å—å –Ω–∞ Actions –∫–æ–ª–æ–Ω–∫—É

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (Super Admin):**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "PersonAdd" (Make Admin) –≤–∏–¥–∏–º–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "View" (ViewIcon) –≤–∏–¥–∏–º–∞
- ‚úÖ –ö–ª—ñ–∫ –Ω–∞ PersonAdd –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥—ñ–∞–ª–æ–≥
- ‚úÖ –î—ñ–∞–ª–æ–≥ –ø–æ–∫–∞–∑—É—î 2 –æ–ø—Ü—ñ—ó: Admin / Super Admin
- ‚úÖ –ü—ñ—Å–ª—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è - admin badge –∑'—è–≤–ª—è—î—Ç—å—Å—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ Make Admin –∑–Ω–∏–∫–∞—î

**–ö—Ä–æ–∫–∏ 2 (–∑–≤–∏—á–∞–π–Ω–∏–π Admin):**
1. –í–∏–π–¥–∏ –∑ Super Admin
2. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —è–∫ **Admin** (–Ω–µ Super)
3. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (Admin):**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Make Admin" –ù–ï –≤–∏–¥–∏–º–∞
- ‚úÖ –¢—ñ–ª—å–∫–∏ –∫–Ω–æ–ø–∫–∞ "View" —î

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API:**
```javascript
// –í—ñ–¥ —ñ–º–µ–Ω—ñ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∞–¥–º—ñ–Ω–∞
fetch('/api/admin/users/make-admin', {
  method: 'POST',
  body: JSON.stringify({ userId: 'xxx', role: 'admin' })
})
// –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ { error: "Only super admins can assign admin roles", status: 403 }
```

---

## –¢–ï–°–¢ #12: Make Admin Dialog

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ UI —Ç–∞ –ª–æ–≥—ñ–∫—É –¥—ñ–∞–ª–æ–≥—É –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∞–¥–º—ñ–Ω–∞

**–ö—Ä–æ–∫–∏:**
1. –Ø–∫ Super Admin –∫–ª—ñ–∫–Ω–∏ "Make Admin" –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
2. –í –¥—ñ–∞–ª–æ–∑—ñ –ø–æ–¥–∏–≤–∏—Å—å –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç
3. –û–±–µ—Ä–∏ "Admin" ‚Üí Confirm
4. Refresh —Å—Ç–æ—Ä—ñ–Ω–∫–∏

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

**–î—ñ–∞–ª–æ–≥:**
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: "Assign Admin Role" –∑ —ñ–∫–æ–Ω–∫–æ—é AdminPanelSettings
- ‚úÖ User info: —ñ–º'—è —Ç–∞ email
- ‚úÖ Dropdown –∑ 2 –æ–ø—Ü—ñ—è–º–∏:
  - Admin: "Can manage users, lessons, and view analytics"
  - Super Admin: "Full access including admin management"
- ‚úÖ Warning: "This user will gain admin access"
- ‚úÖ –ö–Ω–æ–ø–∫–∏: Cancel / Confirm

**–ü—ñ—Å–ª—è Confirm:**
- ‚úÖ –î—ñ–∞–ª–æ–≥ –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
- ‚úÖ –°–ø–∏—Å–æ–∫ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î admin badge
- ‚úÖ –ö–Ω–æ–ø–∫–∞ Make Admin –∑–Ω–∏–∫–ª–∞ –¥–ª—è —Ü—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**Activity Log:**
```sql
SELECT * FROM activity_log 
WHERE action = 'admin_created' 
ORDER BY created_at DESC LIMIT 1;
```
- ‚úÖ –ó–∞–ø–∏—Å —î –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

---

## –¢–ï–°–¢ #13: Remove Admin

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è admin —Ä–æ–ª—ñ

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –Ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ admin —Ä–æ–ª–ª—é (–Ω–µ Super Admin)

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –í—ñ–¥–∫—Ä–∏–π –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Admin —Ä–æ–ª–ª—é
3. –ö–ª—ñ–∫–Ω–∏ "Delete" (–º–∞—î –±—É—Ç–∏ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –∑–Ω—è—Ç—Ç—è —Ä–æ–ª—ñ - —è–∫—â–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)
4. –ê–ë–û —á–µ—Ä–µ–∑ –¥—ñ–∞–ª–æ–≥ –Ω–∞ main page

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Super Admin –º–æ–∂–µ –≤–∏–¥–∞–ª–∏—Ç–∏ Admin
- ‚úÖ –ü—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è - admin badge –∑–Ω–∏–∫–∞—î
- ‚úÖ –ö–Ω–æ–ø–∫–∞ Make Admin –∑'—è–≤–ª—è—î—Ç—å—Å—è –∑–Ω–æ–≤—É
- ‚úÖ Activity log: `admin_deleted`

**–ë–µ–∑–ø–µ–∫–∞:**
- ‚ùå Super Admin –ù–ï –º–æ–∂–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å–∞–º —Å–µ–±–µ
- ‚úÖ API –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É: "Cannot remove your own admin role"

---

## –¢–ï–°–¢ #14: Refresh Button

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ Refresh –æ–Ω–æ–≤–ª—é—î —Å–ø–∏—Å–æ–∫

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ó–∞–ø–∏—à–∏ Total Users: _____
3. –í —ñ–Ω—à—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. –ü–æ–≤–µ—Ä–Ω–∏ –¥–æ `/admin/users`
5. –ö–ª—ñ–∫–Ω–∏ –∫–Ω–æ–ø–∫—É "Refresh" (RefreshIcon –≤ header)

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total Users +1
- ‚úÖ –ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤ —Å–ø–∏—Å–∫—É
- ‚úÖ Loading state –ø—ñ–¥ —á–∞—Å refresh

---

## –¢–ï–°–¢ #15: Empty States

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ empty states –≤–∏–≥–ª—è–¥–∞—é—Ç—å –¥–æ–±—Ä–µ

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –í–≤–µ–¥–∏ –ø–æ—à—É–∫ —â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ "zzzzzzzzz")

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –Ü–∫–æ–Ω–∫–∞ People (PeopleIcon) –≤–µ–ª–∏–∫–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫: "No Users Found"
- ‚úÖ –¢–µ–∫—Å—Ç: "No users match your current filters..."
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Clear All Filters"
- ‚úÖ –ö–ª—ñ–∫ –æ—á–∏—â–∞—î –ø–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∏

---

## –¢–ï–°–¢ #16: Sorting (—è–∫—â–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ö–ª—ñ–∫–Ω–∏ –Ω–∞ header "Joined"
3. –ü–µ—Ä–µ–≤—ñ—Ä –ø–æ—Ä—è–¥–æ–∫

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è DESC (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ –∑–≤–µ—Ä—Ö—É)
- ‚úÖ ASC (–Ω–∞–π—Å—Ç–∞—Ä—ñ—à—ñ –∑–≤–µ—Ä—Ö—É)
- ‚úÖ URL –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∑ `sort_by=created_at&sort_order=desc`

---

## –¢–ï–°–¢ #17: Security - RLS Policies

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –Ω–µ-–∞–¥–º—ñ–Ω–∏ –Ω–µ –±–∞—á–∞—Ç—å —Å–ø–∏—Å–æ–∫

**–ö—Ä–æ–∫–∏:**
1. –í–∏–π–¥–∏ –∑ admin –∞–∫–∞—É–Ω—Ç—É
2. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
3. –°–ø—Ä–æ–±—É–π –≤—ñ–¥–∫—Ä–∏—Ç–∏ `/admin/users`
4. –°–ø—Ä–æ–±—É–π API: `fetch('/api/admin/users').then(r => r.json())`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Redirect –Ω–∞ `/` –∞–±–æ 403
- ‚úÖ API: `{ error: "Unauthorized", status: 403 }`
- ‚úÖ –î–∞–Ω—ñ –ù–ï –≤–∏—Ç—ñ–∫–∞—é—Ç—å
- ‚úÖ Console errors –ø—Ä–æ –¥–æ—Å—Ç—É–ø

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ token_usage RLS:**
```sql
-- –Ø–∫ –∑–≤–∏—á–∞–π–Ω–∏–π —é–∑–µ—Ä
SELECT * FROM token_usage WHERE user_id != auth.uid();
-- –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ 0 rows (–±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó)
```

---

## –¢–ï–°–¢ #18: Performance - –±–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** 100+ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ –ë–î

**–ö—Ä–æ–∫–∏:**
1. –ü–µ—Ä–µ–π–¥–∏ `/admin/users`
2. –ó–∞—Å—ñ–∫–∏ —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
3. Scroll –≤–Ω–∏–∑ (–≤—Å—ñ 20 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
4. –ó–º—ñ–Ω—é–π —Ñ—ñ–ª—å—Ç—Ä–∏
5. Pagination

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è < 2 —Å–µ–∫—É–Ω–¥–∏
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∏ –ø—Ä–∞—Ü—é—é—Ç—å —à–≤–∏–¥–∫–æ (< 500ms)
- ‚úÖ Pagination –º–∏—Ç—Ç—î–≤–∞
- ‚úÖ –ù–µ–º–∞—î –ª–∞–≥—ñ–≤ –ø—Ä–∏ scroll

**Network:**
- ‚úÖ –û–¥–∏–Ω –∑–∞–ø–∏—Ç –¥–æ `/api/admin/users?...`
- ‚úÖ –†–æ–∑–º—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ < 100KB –¥–ª—è 20 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ –°—Ç–∏—Å–∫–∞–Ω–Ω—è (gzip) –ø—Ä–∞—Ü—é—î

---

## –¢–ï–°–¢ #19: Token Usage - —Ç–æ—á–Ω—ñ—Å—Ç—å –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—ñ–≤

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤–∞—Ä—Ç–æ—Å—Ç—ñ

**–ö—Ä–æ–∫–∏:**
1. –ó–≥–µ–Ω–µ—Ä—É–π worksheet (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ~5000-10000 —Ç–æ–∫–µ–Ω—ñ–≤)
2. –ó–∞–ø–∏—à–∏ –∑ –ë–î —Å–∫—ñ–ª—å–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤ –≤–∏—Ç—Ä–∞—á–µ–Ω–æ
3. –í—ñ–¥–∫—Ä–∏–π –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
4. –ü–æ—Ä—ñ–≤–Ω—è–π Total Cost

**–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—Ä—É—á–Ω—É:**
```
Input tokens: 2000
Output tokens: 8000
Total: 10000

Gemini 2.5 Flash —Ü—ñ–Ω–∞:
Input: $0.075 per 1M = 2000 * 0.075 / 1,000,000 = $0.00015
Output: $0.30 per 1M = 8000 * 0.30 / 1,000,000 = $0.0024
Total: $0.00255
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total Cost –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–æ–º
- ‚úÖ –û–∫—Ä—É–≥–ª–µ–Ω–Ω—è –¥–æ 4 –∑–Ω–∞–∫—ñ–≤ –ø—ñ—Å–ª—è –∫–æ–º–∏
- ‚úÖ –ë–î: `SELECT total_cost FROM token_usage WHERE user_id = '...'`

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ pricing:**
```sql
SELECT * FROM ai_model_pricing WHERE model_name = 'gemini-2.5-flash';
-- –ú–∞—î –±—É—Ç–∏: input_price_per_1m = 0.075, output_price_per_1m = 0.30
```

---

## –¢–ï–°–¢ #20: Multiple Admin Actions

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –æ–¥–Ω–æ—á–∞—Å–Ω—ñ –¥—ñ—ó –Ω–µ –ª–∞–º–∞—é—Ç—å —Å–∏—Å—Ç–µ–º—É

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥–∫—Ä–∏–π 2 –≤–∫–ª–∞–¥–∫–∏ —è–∫ Super Admin
2. –í–∫–ª–∞–¥–∫–∞ 1: Make Admin –¥–ª—è User A
3. –í–∫–ª–∞–¥–∫–∞ 2: Make Admin –¥–ª—è User B (—à–≤–∏–¥–∫–æ –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ)
4. –û–±–∏–¥–≤—ñ –≤–∫–ª–∞–¥–∫–∏: Refresh

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û–±–∏–¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å—Ç–∞–ª–∏ –∞–¥–º—ñ–Ω–∞–º–∏
- ‚úÖ –ù–µ–º–∞—î race conditions
- ‚úÖ Activity log –º–∞—î 2 –∑–∞–ø–∏—Å–∏ `admin_created`
- ‚úÖ UI –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ –æ–±–æ—Ö –≤–∫–ª–∞–¥–∫–∞—Ö

---

## –§–Ü–ù–ê–õ–¨–ù–ê –¢–ê–ë–õ–ò–¶–Ø –ü–ï–†–ï–í–Ü–†–ö–ò

```
–§–£–ù–ö–¶–Ü–Ø                        ‚îÇ –ü–†–ê–¶–Æ–Ñ ‚îÇ –ü–†–û–ë–õ–ï–ú–ò
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤            ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–†–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (–Ω–µ TODO)         ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Last Sign In –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è    ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–ü–æ—à—É–∫ (email + name)           ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–§—ñ–ª—å—Ç—Ä Role                    ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–§—ñ–ª—å—Ç—Ä Subscription            ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è –ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤       ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
–î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞             ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Stats Cards (—Ä–µ–∞–ª—å–Ω—ñ)          ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Token Usage & Cost             ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Generation Limit (–Ω–µ hardcode) ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Recent Activity                ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Make Admin (Super Admin only)  ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Make Admin Dialog              ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Remove Admin                   ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Refresh Button                 ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Empty States                   ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Security (RLS)                 ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Performance (<2s load)         ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
Token Cost —Ç–æ—á–Ω—ñ—Å—Ç—å            ‚îÇ ‚úÖ/‚ùå  ‚îÇ _______________
```

## –í–ò–ü–†–ê–í–õ–ï–ù–Ü –ü–†–û–ë–õ–ï–ú–ò ‚úÖ

**–î–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (TODO –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ):**
```typescript
phone: null, // TODO: Add phone field
last_sign_in_at: null, // TODO: Track last sign in
total_ai_requests: 0, // TODO: Implement tracking
generation_limit_used: 0, // TODO: Get from generation_limits
generation_limit_total: 10, // TODO: Get from config
```

**–ü—ñ—Å–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:**
- ‚úÖ `phone` - –≤–∏–¥–∞–ª–µ–Ω–æ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
- ‚úÖ `last_sign_in_at` - —Ä–µ–∞–ª—å–Ω–∞ –¥–∞—Ç–∞ –∑ `auth.users`
- ‚úÖ `total_ai_requests` - COUNT –∑ `activity_log`
- ‚úÖ `generation_limit_used` - –∑ `generation_limits` —Ç–∞–±–ª–∏—Ü—ñ
- ‚úÖ `generation_limit_total` - –∑ `generation_limits` —Ç–∞–±–ª–∏—Ü—ñ
- ‚úÖ `total_tokens_used` - SUM –∑ `token_usage` —Ç–∞–±–ª–∏—Ü—ñ (NEW!)
- ‚úÖ `total_tokens_cost` - SUM –∑ `token_usage` —Ç–∞–±–ª–∏—Ü—ñ (NEW!)

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è:**
- ‚ùå –ë–£–õ–û: Paginate ‚Üí Filter (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
- ‚úÖ –¢–ï–ü–ï–†: Filter ‚Üí Paginate (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

**–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- ‚úÖ Token Usage tracking –∑ –≤–∞—Ä—Ç—ñ—Å—Ç—é
- ‚úÖ Make Admin (—Ç—ñ–ª—å–∫–∏ Super Admin)
- ‚úÖ Remove Admin
- ‚úÖ AI Model Pricing –≤ –ë–î

---

**–ó–Ω–∞–π–¥–µ–Ω—ñ –±–∞–≥–∏ (–∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è):**
1. _________________________________________________
2. _________________________________________________
3. _________________________________________________

**–ó–∞–≥–∞–ª—å–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫:** ‚úÖ –í—Å–µ –ø—Ä–∞—Ü—é—î / ‚ùå –Ñ –ø—Ä–æ–±–ª–µ–º–∏

**–ü—ñ–¥–ø–∏—Å —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫–∞:** ________________ **–î–∞—Ç–∞:** __________

